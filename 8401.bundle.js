"use strict";(self.webpackChunklogs=self.webpackChunklogs||[]).push([[8401],{71653:(e,t,i)=>{i.r(t),i.d(t,{Adapter:()=>h,CodeActionAdaptor:()=>O,DefinitionAdapter:()=>x,DiagnosticsAdapter:()=>f,FormatAdapter:()=>T,FormatHelper:()=>L,FormatOnTypeAdapter:()=>P,InlayHintsAdapter:()=>K,Kind:()=>A,LibFiles:()=>b,OccurrencesAdapter:()=>k,OutlineAdapter:()=>C,QuickInfoAdapter:()=>S,ReferenceAdapter:()=>v,RenameAdapter:()=>N,SignatureHelpAdapter:()=>w,SuggestAdapter:()=>_,WorkerManager:()=>u,flattenDiagnosticMessageText:()=>p,getJavaScriptWorker:()=>E,getTypeScriptWorker:()=>H,setupJavaScript:()=>R,setupTypeScript:()=>M});var s=i(87763),r=i(39585),n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,c=(e,t,i)=>(((e,t,i)=>{t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i),d={};((e,t,i,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of o(t))l.call(e,i)||"default"===i||n(e,i,{get:()=>t[i],enumerable:!(s=a(t,i))||s.enumerable})})(d,s);var u=class{_modeId;_defaults;_configChangeListener;_updateExtraLibsToken;_extraLibsChangeListener;_worker;_client;constructor(e,t){this._modeId=e,this._defaults=t,this._worker=null,this._client=null,this._configChangeListener=this._defaults.onDidChange((()=>this._stopWorker())),this._updateExtraLibsToken=0,this._extraLibsChangeListener=this._defaults.onDidExtraLibsChange((()=>this._updateExtraLibs()))}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){this._configChangeListener.dispose(),this._extraLibsChangeListener.dispose(),this._stopWorker()}async _updateExtraLibs(){if(!this._worker)return;const e=++this._updateExtraLibsToken,t=await this._worker.getProxy();this._updateExtraLibsToken===e&&t.updateExtraLibs(this._defaults.getExtraLibs())}_getClient(){if(!this._client){this._worker=d.editor.createWebWorker({moduleId:"vs/language/typescript/tsWorker",label:this._modeId,keepIdleModels:!0,createData:{compilerOptions:this._defaults.getCompilerOptions(),extraLibs:this._defaults.getExtraLibs(),customWorkerPath:this._defaults.workerOptions.customWorkerPath,inlayHintsOptions:this._defaults.inlayHintsOptions}});let e=this._worker.getProxy();this._defaults.getEagerModelSync()&&(e=e.then((e=>this._worker?this._worker.withSyncedResources(d.editor.getModels().filter((e=>e.getLanguageId()===this._modeId)).map((e=>e.uri))):e))),this._client=e}return this._client}getLanguageServiceWorker(...e){let t;return this._getClient().then((e=>{t=e})).then((t=>{if(this._worker)return this._worker.withSyncedResources(e)})).then((e=>t))}},g={};function p(e,t,i=0){if("string"==typeof e)return e;if(void 0===e)return"";let s="";if(i){s+=t;for(let e=0;e<i;e++)s+="  "}if(s+=e.messageText,i++,e.next)for(const r of e.next)s+=p(r,t,i);return s}function m(e){return e?e.map((e=>e.text)).join(""):""}g["lib.d.ts"]=!0,g["lib.dom.d.ts"]=!0,g["lib.dom.iterable.d.ts"]=!0,g["lib.es2015.collection.d.ts"]=!0,g["lib.es2015.core.d.ts"]=!0,g["lib.es2015.d.ts"]=!0,g["lib.es2015.generator.d.ts"]=!0,g["lib.es2015.iterable.d.ts"]=!0,g["lib.es2015.promise.d.ts"]=!0,g["lib.es2015.proxy.d.ts"]=!0,g["lib.es2015.reflect.d.ts"]=!0,g["lib.es2015.symbol.d.ts"]=!0,g["lib.es2015.symbol.wellknown.d.ts"]=!0,g["lib.es2016.array.include.d.ts"]=!0,g["lib.es2016.d.ts"]=!0,g["lib.es2016.full.d.ts"]=!0,g["lib.es2017.d.ts"]=!0,g["lib.es2017.full.d.ts"]=!0,g["lib.es2017.intl.d.ts"]=!0,g["lib.es2017.object.d.ts"]=!0,g["lib.es2017.sharedmemory.d.ts"]=!0,g["lib.es2017.string.d.ts"]=!0,g["lib.es2017.typedarrays.d.ts"]=!0,g["lib.es2018.asyncgenerator.d.ts"]=!0,g["lib.es2018.asynciterable.d.ts"]=!0,g["lib.es2018.d.ts"]=!0,g["lib.es2018.full.d.ts"]=!0,g["lib.es2018.intl.d.ts"]=!0,g["lib.es2018.promise.d.ts"]=!0,g["lib.es2018.regexp.d.ts"]=!0,g["lib.es2019.array.d.ts"]=!0,g["lib.es2019.d.ts"]=!0,g["lib.es2019.full.d.ts"]=!0,g["lib.es2019.object.d.ts"]=!0,g["lib.es2019.string.d.ts"]=!0,g["lib.es2019.symbol.d.ts"]=!0,g["lib.es2020.bigint.d.ts"]=!0,g["lib.es2020.d.ts"]=!0,g["lib.es2020.full.d.ts"]=!0,g["lib.es2020.intl.d.ts"]=!0,g["lib.es2020.promise.d.ts"]=!0,g["lib.es2020.sharedmemory.d.ts"]=!0,g["lib.es2020.string.d.ts"]=!0,g["lib.es2020.symbol.wellknown.d.ts"]=!0,g["lib.es2021.d.ts"]=!0,g["lib.es2021.full.d.ts"]=!0,g["lib.es2021.intl.d.ts"]=!0,g["lib.es2021.promise.d.ts"]=!0,g["lib.es2021.string.d.ts"]=!0,g["lib.es2021.weakref.d.ts"]=!0,g["lib.es5.d.ts"]=!0,g["lib.es6.d.ts"]=!0,g["lib.esnext.d.ts"]=!0,g["lib.esnext.full.d.ts"]=!0,g["lib.esnext.intl.d.ts"]=!0,g["lib.esnext.promise.d.ts"]=!0,g["lib.esnext.string.d.ts"]=!0,g["lib.esnext.weakref.d.ts"]=!0,g["lib.scripthost.d.ts"]=!0,g["lib.webworker.d.ts"]=!0,g["lib.webworker.importscripts.d.ts"]=!0,g["lib.webworker.iterable.d.ts"]=!0;var h=class{constructor(e){this._worker=e}_textSpanToRange(e,t){let i=e.getPositionAt(t.start),s=e.getPositionAt(t.start+t.length),{lineNumber:r,column:n}=i,{lineNumber:a,column:o}=s;return{startLineNumber:r,startColumn:n,endLineNumber:a,endColumn:o}}},b=class{constructor(e){this._worker=e,this._libFiles={},this._hasFetchedLibFiles=!1,this._fetchLibFilesPromise=null}_libFiles;_hasFetchedLibFiles;_fetchLibFilesPromise;isLibFile(e){return!!e&&0===e.path.indexOf("/lib.")&&!!g[e.path.slice(1)]}getOrCreateModel(e){const t=d.Uri.parse(e),i=d.editor.getModel(t);if(i)return i;if(this.isLibFile(t)&&this._hasFetchedLibFiles)return d.editor.createModel(this._libFiles[t.path.slice(1)],"typescript",t);const s=r.typescriptDefaults.getExtraLibs()[e];return s?d.editor.createModel(s.content,"typescript",t):null}_containsLibFile(e){for(let t of e)if(this.isLibFile(t))return!0;return!1}async fetchLibFilesIfNecessary(e){this._containsLibFile(e)&&await this._fetchLibFiles()}_fetchLibFiles(){return this._fetchLibFilesPromise||(this._fetchLibFilesPromise=this._worker().then((e=>e.getLibFiles())).then((e=>{this._hasFetchedLibFiles=!0,this._libFiles=e}))),this._fetchLibFilesPromise}},f=class extends h{constructor(e,t,i,s){super(s),this._libFiles=e,this._defaults=t,this._selector=i;const r=e=>{if(e.getLanguageId()!==i)return;const t=()=>{const{onlyVisible:t}=this._defaults.getDiagnosticsOptions();t?e.isAttachedToEditor()&&this._doValidate(e):this._doValidate(e)};let s;const r=e.onDidChangeContent((()=>{clearTimeout(s),s=window.setTimeout(t,500)})),n=e.onDidChangeAttached((()=>{const{onlyVisible:i}=this._defaults.getDiagnosticsOptions();i&&(e.isAttachedToEditor()?t():d.editor.setModelMarkers(e,this._selector,[]))}));this._listener[e.uri.toString()]={dispose(){r.dispose(),n.dispose(),clearTimeout(s)}},t()},n=e=>{d.editor.setModelMarkers(e,this._selector,[]);const t=e.uri.toString();this._listener[t]&&(this._listener[t].dispose(),delete this._listener[t])};this._disposables.push(d.editor.onDidCreateModel((e=>r(e)))),this._disposables.push(d.editor.onWillDisposeModel(n)),this._disposables.push(d.editor.onDidChangeModelLanguage((e=>{n(e.model),r(e.model)}))),this._disposables.push({dispose(){for(const e of d.editor.getModels())n(e)}});const a=()=>{for(const e of d.editor.getModels())n(e),r(e)};this._disposables.push(this._defaults.onDidChange(a)),this._disposables.push(this._defaults.onDidExtraLibsChange(a)),d.editor.getModels().forEach((e=>r(e)))}_disposables=[];_listener=Object.create(null);dispose(){this._disposables.forEach((e=>e&&e.dispose())),this._disposables=[]}async _doValidate(e){const t=await this._worker(e.uri);if(e.isDisposed())return;const i=[],{noSyntaxValidation:s,noSemanticValidation:r,noSuggestionDiagnostics:n}=this._defaults.getDiagnosticsOptions();s||i.push(t.getSyntacticDiagnostics(e.uri.toString())),r||i.push(t.getSemanticDiagnostics(e.uri.toString())),n||i.push(t.getSuggestionDiagnostics(e.uri.toString()));const a=await Promise.all(i);if(!a||e.isDisposed())return;const o=a.reduce(((e,t)=>t.concat(e)),[]).filter((e=>-1===(this._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore||[]).indexOf(e.code))),l=o.map((e=>e.relatedInformation||[])).reduce(((e,t)=>t.concat(e)),[]).map((e=>e.file?d.Uri.parse(e.file.fileName):null));await this._libFiles.fetchLibFilesIfNecessary(l),e.isDisposed()||d.editor.setModelMarkers(e,this._selector,o.map((t=>this._convertDiagnostics(e,t))))}_convertDiagnostics(e,t){const i=t.start||0,s=t.length||1,{lineNumber:r,column:n}=e.getPositionAt(i),{lineNumber:a,column:o}=e.getPositionAt(i+s),l=[];return t.reportsUnnecessary&&l.push(d.MarkerTag.Unnecessary),t.reportsDeprecated&&l.push(d.MarkerTag.Deprecated),{severity:this._tsDiagnosticCategoryToMarkerSeverity(t.category),startLineNumber:r,startColumn:n,endLineNumber:a,endColumn:o,message:p(t.messageText,"\n"),code:t.code.toString(),tags:l,relatedInformation:this._convertRelatedInformation(e,t.relatedInformation)}}_convertRelatedInformation(e,t){if(!t)return[];const i=[];return t.forEach((t=>{let s=e;if(t.file&&(s=this._libFiles.getOrCreateModel(t.file.fileName)),!s)return;const r=t.start||0,n=t.length||1,{lineNumber:a,column:o}=s.getPositionAt(r),{lineNumber:l,column:c}=s.getPositionAt(r+n);i.push({resource:s.uri,startLineNumber:a,startColumn:o,endLineNumber:l,endColumn:c,message:p(t.messageText,"\n")})})),i}_tsDiagnosticCategoryToMarkerSeverity(e){switch(e){case 1:return d.MarkerSeverity.Error;case 3:return d.MarkerSeverity.Info;case 0:return d.MarkerSeverity.Warning;case 2:return d.MarkerSeverity.Hint}return d.MarkerSeverity.Info}},_=class extends h{get triggerCharacters(){return["."]}async provideCompletionItems(e,t,i,s){const r=e.getWordUntilPosition(t),n=new d.Range(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn),a=e.uri,o=e.getOffsetAt(t),l=await this._worker(a);if(e.isDisposed())return;const c=await l.getCompletionsAtPosition(a.toString(),o);return c&&!e.isDisposed()?{suggestions:c.entries.map((i=>{let s=n;if(i.replacementSpan){const t=e.getPositionAt(i.replacementSpan.start),r=e.getPositionAt(i.replacementSpan.start+i.replacementSpan.length);s=new d.Range(t.lineNumber,t.column,r.lineNumber,r.column)}const r=[];return-1!==i.kindModifiers?.indexOf("deprecated")&&r.push(d.languages.CompletionItemTag.Deprecated),{uri:a,position:t,offset:o,range:s,label:i.name,insertText:i.name,sortText:i.sortText,kind:_.convertKind(i.kind),tags:r}}))}:void 0}async resolveCompletionItem(e,t){const i=e,s=i.uri,r=i.position,n=i.offset,a=await this._worker(s),o=await a.getCompletionEntryDetails(s.toString(),n,i.label);return o?{uri:s,position:r,label:o.name,kind:_.convertKind(o.kind),detail:m(o.displayParts),documentation:{value:_.createDocumentationString(o)}}:i}static convertKind(e){switch(e){case A.primitiveType:case A.keyword:return d.languages.CompletionItemKind.Keyword;case A.variable:case A.localVariable:return d.languages.CompletionItemKind.Variable;case A.memberVariable:case A.memberGetAccessor:case A.memberSetAccessor:return d.languages.CompletionItemKind.Field;case A.function:case A.memberFunction:case A.constructSignature:case A.callSignature:case A.indexSignature:return d.languages.CompletionItemKind.Function;case A.enum:return d.languages.CompletionItemKind.Enum;case A.module:return d.languages.CompletionItemKind.Module;case A.class:return d.languages.CompletionItemKind.Class;case A.interface:return d.languages.CompletionItemKind.Interface;case A.warning:return d.languages.CompletionItemKind.File}return d.languages.CompletionItemKind.Property}static createDocumentationString(e){let t=m(e.documentation);if(e.tags)for(const i of e.tags)t+=`\n\n${y(i)}`;return t}};function y(e){let t=`*@${e.name}*`;if("param"===e.name&&e.text){const[i,...s]=e.text;t+=`\`${i.text}\``,s.length>0&&(t+=` — ${s.map((e=>e.text)).join(" ")}`)}else Array.isArray(e.text)?t+=` — ${e.text.map((e=>e.text)).join(" ")}`:e.text&&(t+=` — ${e.text}`);return t}var w=class extends h{signatureHelpTriggerCharacters=["(",","];static _toSignatureHelpTriggerReason(e){switch(e.triggerKind){case d.languages.SignatureHelpTriggerKind.TriggerCharacter:return e.triggerCharacter?e.isRetrigger?{kind:"retrigger",triggerCharacter:e.triggerCharacter}:{kind:"characterTyped",triggerCharacter:e.triggerCharacter}:{kind:"invoked"};case d.languages.SignatureHelpTriggerKind.ContentChange:return e.isRetrigger?{kind:"retrigger"}:{kind:"invoked"};case d.languages.SignatureHelpTriggerKind.Invoke:default:return{kind:"invoked"}}}async provideSignatureHelp(e,t,i,s){const r=e.uri,n=e.getOffsetAt(t),a=await this._worker(r);if(e.isDisposed())return;const o=await a.getSignatureHelpItems(r.toString(),n,{triggerReason:w._toSignatureHelpTriggerReason(s)});if(!o||e.isDisposed())return;const l={activeSignature:o.selectedItemIndex,activeParameter:o.argumentIndex,signatures:[]};return o.items.forEach((e=>{const t={label:"",parameters:[]};t.documentation={value:m(e.documentation)},t.label+=m(e.prefixDisplayParts),e.parameters.forEach(((i,s,r)=>{const n=m(i.displayParts),a={label:n,documentation:{value:m(i.documentation)}};t.label+=n,t.parameters.push(a),s<r.length-1&&(t.label+=m(e.separatorDisplayParts))})),t.label+=m(e.suffixDisplayParts),l.signatures.push(t)})),{value:l,dispose(){}}}},S=class extends h{async provideHover(e,t,i){const s=e.uri,r=e.getOffsetAt(t),n=await this._worker(s);if(e.isDisposed())return;const a=await n.getQuickInfoAtPosition(s.toString(),r);if(!a||e.isDisposed())return;const o=m(a.documentation),l=a.tags?a.tags.map((e=>y(e))).join("  \n\n"):"",c=m(a.displayParts);return{range:this._textSpanToRange(e,a.textSpan),contents:[{value:"```typescript\n"+c+"\n```\n"},{value:o+(l?"\n\n"+l:"")}]}}},k=class extends h{async provideDocumentHighlights(e,t,i){const s=e.uri,r=e.getOffsetAt(t),n=await this._worker(s);if(e.isDisposed())return;const a=await n.getOccurrencesAtPosition(s.toString(),r);return a&&!e.isDisposed()?a.map((t=>({range:this._textSpanToRange(e,t.textSpan),kind:t.isWriteAccess?d.languages.DocumentHighlightKind.Write:d.languages.DocumentHighlightKind.Text}))):void 0}},x=class extends h{constructor(e,t){super(t),this._libFiles=e}async provideDefinition(e,t,i){const s=e.uri,r=e.getOffsetAt(t),n=await this._worker(s);if(e.isDisposed())return;const a=await n.getDefinitionAtPosition(s.toString(),r);if(!a||e.isDisposed())return;if(await this._libFiles.fetchLibFilesIfNecessary(a.map((e=>d.Uri.parse(e.fileName)))),e.isDisposed())return;const o=[];for(let e of a){const t=this._libFiles.getOrCreateModel(e.fileName);t&&o.push({uri:t.uri,range:this._textSpanToRange(t,e.textSpan)})}return o}},v=class extends h{constructor(e,t){super(t),this._libFiles=e}async provideReferences(e,t,i,s){const r=e.uri,n=e.getOffsetAt(t),a=await this._worker(r);if(e.isDisposed())return;const o=await a.getReferencesAtPosition(r.toString(),n);if(!o||e.isDisposed())return;if(await this._libFiles.fetchLibFilesIfNecessary(o.map((e=>d.Uri.parse(e.fileName)))),e.isDisposed())return;const l=[];for(let e of o){const t=this._libFiles.getOrCreateModel(e.fileName);t&&l.push({uri:t.uri,range:this._textSpanToRange(t,e.textSpan)})}return l}},C=class extends h{async provideDocumentSymbols(e,t){const i=e.uri,s=await this._worker(i);if(e.isDisposed())return;const r=await s.getNavigationBarItems(i.toString());if(!r||e.isDisposed())return;const n=(t,i,s)=>{let r={name:i.text,detail:"",kind:D[i.kind]||d.languages.SymbolKind.Variable,range:this._textSpanToRange(e,i.spans[0]),selectionRange:this._textSpanToRange(e,i.spans[0]),tags:[]};if(s&&(r.containerName=s),i.childItems&&i.childItems.length>0)for(let e of i.childItems)n(t,e,r.name);t.push(r)};let a=[];return r.forEach((e=>n(a,e))),a}},A=class{};c(A,"unknown",""),c(A,"keyword","keyword"),c(A,"script","script"),c(A,"module","module"),c(A,"class","class"),c(A,"interface","interface"),c(A,"type","type"),c(A,"enum","enum"),c(A,"variable","var"),c(A,"localVariable","local var"),c(A,"function","function"),c(A,"localFunction","local function"),c(A,"memberFunction","method"),c(A,"memberGetAccessor","getter"),c(A,"memberSetAccessor","setter"),c(A,"memberVariable","property"),c(A,"constructorImplementation","constructor"),c(A,"callSignature","call"),c(A,"indexSignature","index"),c(A,"constructSignature","construct"),c(A,"parameter","parameter"),c(A,"typeParameter","type parameter"),c(A,"primitiveType","primitive type"),c(A,"label","label"),c(A,"alias","alias"),c(A,"const","const"),c(A,"let","let"),c(A,"warning","warning");var D=Object.create(null);D[A.module]=d.languages.SymbolKind.Module,D[A.class]=d.languages.SymbolKind.Class,D[A.enum]=d.languages.SymbolKind.Enum,D[A.interface]=d.languages.SymbolKind.Interface,D[A.memberFunction]=d.languages.SymbolKind.Method,D[A.memberVariable]=d.languages.SymbolKind.Property,D[A.memberGetAccessor]=d.languages.SymbolKind.Property,D[A.memberSetAccessor]=d.languages.SymbolKind.Property,D[A.variable]=d.languages.SymbolKind.Variable,D[A.const]=d.languages.SymbolKind.Variable,D[A.localVariable]=d.languages.SymbolKind.Variable,D[A.variable]=d.languages.SymbolKind.Variable,D[A.function]=d.languages.SymbolKind.Function,D[A.localFunction]=d.languages.SymbolKind.Function;var F,I,L=class extends h{static _convertOptions(e){return{ConvertTabsToSpaces:e.insertSpaces,TabSize:e.tabSize,IndentSize:e.tabSize,IndentStyle:2,NewLineCharacter:"\n",InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1,PlaceOpenBraceOnNewLineForFunctions:!1}}_convertTextChanges(e,t){return{text:t.newText,range:this._textSpanToRange(e,t.span)}}},T=class extends L{async provideDocumentRangeFormattingEdits(e,t,i,s){const r=e.uri,n=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),a=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),o=await this._worker(r);if(e.isDisposed())return;const l=await o.getFormattingEditsForRange(r.toString(),n,a,L._convertOptions(i));return l&&!e.isDisposed()?l.map((t=>this._convertTextChanges(e,t))):void 0}},P=class extends L{get autoFormatTriggerCharacters(){return[";","}","\n"]}async provideOnTypeFormattingEdits(e,t,i,s,r){const n=e.uri,a=e.getOffsetAt(t),o=await this._worker(n);if(e.isDisposed())return;const l=await o.getFormattingEditsAfterKeystroke(n.toString(),a,i,L._convertOptions(s));return l&&!e.isDisposed()?l.map((t=>this._convertTextChanges(e,t))):void 0}},O=class extends L{async provideCodeActions(e,t,i,s){const r=e.uri,n=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),a=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),o=L._convertOptions(e.getOptions()),l=i.markers.filter((e=>e.code)).map((e=>e.code)).map(Number),c=await this._worker(r);if(e.isDisposed())return;const d=await c.getCodeFixesAtPosition(r.toString(),n,a,l,o);return!d||e.isDisposed()?{actions:[],dispose:()=>{}}:{actions:d.filter((e=>0===e.changes.filter((e=>e.isNewFile)).length)).map((t=>this._tsCodeFixActionToMonacoCodeAction(e,i,t))),dispose:()=>{}}}_tsCodeFixActionToMonacoCodeAction(e,t,i){const s=[];for(const t of i.changes)for(const i of t.textChanges)s.push({resource:e.uri,edit:{range:this._textSpanToRange(e,i.span),text:i.newText}});return{title:i.description,edit:{edits:s},diagnostics:t.markers,kind:"quickfix"}}},N=class extends h{constructor(e,t){super(t),this._libFiles=e}async provideRenameEdits(e,t,i,s){const r=e.uri,n=r.toString(),a=e.getOffsetAt(t),o=await this._worker(r);if(e.isDisposed())return;const l=await o.getRenameInfo(n,a,{allowRenameOfImportPath:!1});if(!1===l.canRename)return{edits:[],rejectReason:l.localizedErrorMessage};if(void 0!==l.fileToRename)throw new Error("Renaming files is not supported.");const c=await o.findRenameLocations(n,a,!1,!1,!1);if(!c||e.isDisposed())return;const d=[];for(const e of c){const t=this._libFiles.getOrCreateModel(e.fileName);if(!t)throw new Error(`Unknown file ${e.fileName}.`);d.push({resource:t.uri,edit:{range:this._textSpanToRange(t,e.textSpan),text:i}})}return{edits:d}}},K=class extends h{async provideInlayHints(e,t,i){const s=e.uri,r=s.toString(),n=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),a=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),o=await this._worker(s);return e.isDisposed()?null:{hints:(await o.provideInlayHints(r,n,a)).map((t=>({...t,label:t.text,position:e.getPositionAt(t.position),kind:this._convertHintKind(t.kind)}))),dispose:()=>{}}}_convertHintKind(e){return"Parameter"===e?d.languages.InlayHintKind.Parameter:d.languages.InlayHintKind.Type}};function M(e){I=V(e,"typescript")}function R(e){F=V(e,"javascript")}function E(){return new Promise(((e,t)=>{if(!F)return t("JavaScript not registered!");e(F)}))}function H(){return new Promise(((e,t)=>{if(!I)return t("TypeScript not registered!");e(I)}))}function V(e,t){const i=new u(t,e),s=(...e)=>i.getLanguageServiceWorker(...e),r=new b(s);return d.languages.registerCompletionItemProvider(t,new _(s)),d.languages.registerSignatureHelpProvider(t,new w(s)),d.languages.registerHoverProvider(t,new S(s)),d.languages.registerDocumentHighlightProvider(t,new k(s)),d.languages.registerDefinitionProvider(t,new x(r,s)),d.languages.registerReferenceProvider(t,new v(r,s)),d.languages.registerDocumentSymbolProvider(t,new C(s)),d.languages.registerDocumentRangeFormattingEditProvider(t,new T(s)),d.languages.registerOnTypeFormattingEditProvider(t,new P(s)),d.languages.registerCodeActionProvider(t,new O(s)),d.languages.registerRenameProvider(t,new N(r,s)),d.languages.registerInlayHintsProvider(t,new K(s)),new f(r,e,t,s),s}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL3R5cGVzY3JpcHQvdHNNb2RlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFZlcnNpb246IDAuMzMuMCg0YjFhYmFkNDI3ZTU4ZGJlZGMxMjE1ZDk5YTA5MDJmZmM4ODVmY2Q0KVxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L21vbmFjby1lZGl0b3IvYmxvYi9tYWluL0xJQ0VOU0UudHh0XG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19yZUV4cG9ydCA9ICh0YXJnZXQsIG1vZHVsZSwgY29weURlZmF1bHQsIGRlc2MpID0+IHtcbiAgaWYgKG1vZHVsZSAmJiB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBtb2R1bGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhtb2R1bGUpKVxuICAgICAgaWYgKCFfX2hhc093blByb3AuY2FsbCh0YXJnZXQsIGtleSkgJiYgKGNvcHlEZWZhdWx0IHx8IGtleSAhPT0gXCJkZWZhdWx0XCIpKVxuICAgICAgICBfX2RlZlByb3AodGFyZ2V0LCBrZXksIHsgZ2V0OiAoKSA9PiBtb2R1bGVba2V5XSwgZW51bWVyYWJsZTogIShkZXNjID0gX19nZXRPd25Qcm9wRGVzYyhtb2R1bGUsIGtleSkpIHx8IGRlc2MuZW51bWVyYWJsZSB9KTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ge1xuICBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuXG4vLyBzcmMvZmlsbGVycy9tb25hY28tZWRpdG9yLWNvcmUudHNcbnZhciBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cyA9IHt9O1xuX19yZUV4cG9ydChtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cywgbW9uYWNvX2VkaXRvcl9jb3JlX3N0YXIpO1xuaW1wb3J0ICogYXMgbW9uYWNvX2VkaXRvcl9jb3JlX3N0YXIgZnJvbSBcIi4uLy4uL2VkaXRvci9lZGl0b3IuYXBpLmpzXCI7XG5cbi8vIHNyYy9sYW5ndWFnZS90eXBlc2NyaXB0L3dvcmtlck1hbmFnZXIudHNcbnZhciBXb3JrZXJNYW5hZ2VyID0gY2xhc3Mge1xuICBfbW9kZUlkO1xuICBfZGVmYXVsdHM7XG4gIF9jb25maWdDaGFuZ2VMaXN0ZW5lcjtcbiAgX3VwZGF0ZUV4dHJhTGlic1Rva2VuO1xuICBfZXh0cmFMaWJzQ2hhbmdlTGlzdGVuZXI7XG4gIF93b3JrZXI7XG4gIF9jbGllbnQ7XG4gIGNvbnN0cnVjdG9yKG1vZGVJZCwgZGVmYXVsdHMpIHtcbiAgICB0aGlzLl9tb2RlSWQgPSBtb2RlSWQ7XG4gICAgdGhpcy5fZGVmYXVsdHMgPSBkZWZhdWx0cztcbiAgICB0aGlzLl93b3JrZXIgPSBudWxsO1xuICAgIHRoaXMuX2NsaWVudCA9IG51bGw7XG4gICAgdGhpcy5fY29uZmlnQ2hhbmdlTGlzdGVuZXIgPSB0aGlzLl9kZWZhdWx0cy5vbkRpZENoYW5nZSgoKSA9PiB0aGlzLl9zdG9wV29ya2VyKCkpO1xuICAgIHRoaXMuX3VwZGF0ZUV4dHJhTGlic1Rva2VuID0gMDtcbiAgICB0aGlzLl9leHRyYUxpYnNDaGFuZ2VMaXN0ZW5lciA9IHRoaXMuX2RlZmF1bHRzLm9uRGlkRXh0cmFMaWJzQ2hhbmdlKCgpID0+IHRoaXMuX3VwZGF0ZUV4dHJhTGlicygpKTtcbiAgfVxuICBfc3RvcFdvcmtlcigpIHtcbiAgICBpZiAodGhpcy5fd29ya2VyKSB7XG4gICAgICB0aGlzLl93b3JrZXIuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5fd29ya2VyID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5fY2xpZW50ID0gbnVsbDtcbiAgfVxuICBkaXNwb3NlKCkge1xuICAgIHRoaXMuX2NvbmZpZ0NoYW5nZUxpc3RlbmVyLmRpc3Bvc2UoKTtcbiAgICB0aGlzLl9leHRyYUxpYnNDaGFuZ2VMaXN0ZW5lci5kaXNwb3NlKCk7XG4gICAgdGhpcy5fc3RvcFdvcmtlcigpO1xuICB9XG4gIGFzeW5jIF91cGRhdGVFeHRyYUxpYnMoKSB7XG4gICAgaWYgKCF0aGlzLl93b3JrZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbXlUb2tlbiA9ICsrdGhpcy5fdXBkYXRlRXh0cmFMaWJzVG9rZW47XG4gICAgY29uc3QgcHJveHkgPSBhd2FpdCB0aGlzLl93b3JrZXIuZ2V0UHJveHkoKTtcbiAgICBpZiAodGhpcy5fdXBkYXRlRXh0cmFMaWJzVG9rZW4gIT09IG15VG9rZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJveHkudXBkYXRlRXh0cmFMaWJzKHRoaXMuX2RlZmF1bHRzLmdldEV4dHJhTGlicygpKTtcbiAgfVxuICBfZ2V0Q2xpZW50KCkge1xuICAgIGlmICghdGhpcy5fY2xpZW50KSB7XG4gICAgICB0aGlzLl93b3JrZXIgPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuY3JlYXRlV2ViV29ya2VyKHtcbiAgICAgICAgbW9kdWxlSWQ6IFwidnMvbGFuZ3VhZ2UvdHlwZXNjcmlwdC90c1dvcmtlclwiLFxuICAgICAgICBsYWJlbDogdGhpcy5fbW9kZUlkLFxuICAgICAgICBrZWVwSWRsZU1vZGVsczogdHJ1ZSxcbiAgICAgICAgY3JlYXRlRGF0YToge1xuICAgICAgICAgIGNvbXBpbGVyT3B0aW9uczogdGhpcy5fZGVmYXVsdHMuZ2V0Q29tcGlsZXJPcHRpb25zKCksXG4gICAgICAgICAgZXh0cmFMaWJzOiB0aGlzLl9kZWZhdWx0cy5nZXRFeHRyYUxpYnMoKSxcbiAgICAgICAgICBjdXN0b21Xb3JrZXJQYXRoOiB0aGlzLl9kZWZhdWx0cy53b3JrZXJPcHRpb25zLmN1c3RvbVdvcmtlclBhdGgsXG4gICAgICAgICAgaW5sYXlIaW50c09wdGlvbnM6IHRoaXMuX2RlZmF1bHRzLmlubGF5SGludHNPcHRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbGV0IHAgPSB0aGlzLl93b3JrZXIuZ2V0UHJveHkoKTtcbiAgICAgIGlmICh0aGlzLl9kZWZhdWx0cy5nZXRFYWdlck1vZGVsU3luYygpKSB7XG4gICAgICAgIHAgPSBwLnRoZW4oKHdvcmtlcikgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93b3JrZXIud2l0aFN5bmNlZFJlc291cmNlcyhtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuZ2V0TW9kZWxzKCkuZmlsdGVyKChtb2RlbCkgPT4gbW9kZWwuZ2V0TGFuZ3VhZ2VJZCgpID09PSB0aGlzLl9tb2RlSWQpLm1hcCgobW9kZWwpID0+IG1vZGVsLnVyaSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gd29ya2VyO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NsaWVudCA9IHA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQ7XG4gIH1cbiAgZ2V0TGFuZ3VhZ2VTZXJ2aWNlV29ya2VyKC4uLnJlc291cmNlcykge1xuICAgIGxldCBfY2xpZW50O1xuICAgIHJldHVybiB0aGlzLl9nZXRDbGllbnQoKS50aGVuKChjbGllbnQpID0+IHtcbiAgICAgIF9jbGllbnQgPSBjbGllbnQ7XG4gICAgfSkudGhlbigoXykgPT4ge1xuICAgICAgaWYgKHRoaXMuX3dvcmtlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fd29ya2VyLndpdGhTeW5jZWRSZXNvdXJjZXMocmVzb3VyY2VzKTtcbiAgICAgIH1cbiAgICB9KS50aGVuKChfKSA9PiBfY2xpZW50KTtcbiAgfVxufTtcblxuLy8gc3JjL2xhbmd1YWdlL3R5cGVzY3JpcHQvbGFuZ3VhZ2VGZWF0dXJlcy50c1xuaW1wb3J0IHtcbiAgdHlwZXNjcmlwdERlZmF1bHRzXG59IGZyb20gXCIuL21vbmFjby5jb250cmlidXRpb24uanNcIjtcblxuLy8gc3JjL2xhbmd1YWdlL3R5cGVzY3JpcHQvbGliL2xpYi5pbmRleC50c1xudmFyIGxpYkZpbGVTZXQgPSB7fTtcbmxpYkZpbGVTZXRbXCJsaWIuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmRvbS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZG9tLml0ZXJhYmxlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTUuY29sbGVjdGlvbi5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LmNvcmUuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxNS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LmdlbmVyYXRvci5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1Lml0ZXJhYmxlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTUucHJvbWlzZS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LnByb3h5LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTUucmVmbGVjdC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LnN5bWJvbC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LnN5bWJvbC53ZWxsa25vd24uZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxNi5hcnJheS5pbmNsdWRlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTYuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxNi5mdWxsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTcuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxNy5mdWxsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTcuaW50bC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE3Lm9iamVjdC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE3LnNoYXJlZG1lbW9yeS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE3LnN0cmluZy5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE3LnR5cGVkYXJyYXlzLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTguYXN5bmNnZW5lcmF0b3IuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxOC5hc3luY2l0ZXJhYmxlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTguZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxOC5mdWxsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTguaW50bC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE4LnByb21pc2UuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxOC5yZWdleHAuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxOS5hcnJheS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE5LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTkuZnVsbC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE5Lm9iamVjdC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE5LnN0cmluZy5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE5LnN5bWJvbC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIwLmJpZ2ludC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIwLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjAuZnVsbC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIwLmludGwuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAyMC5wcm9taXNlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjAuc2hhcmVkbWVtb3J5LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjAuc3RyaW5nLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjAuc3ltYm9sLndlbGxrbm93bi5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIxLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjEuZnVsbC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIxLmludGwuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAyMS5wcm9taXNlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjEuc3RyaW5nLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjEud2Vha3JlZi5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXM1LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczYuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzbmV4dC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXNuZXh0LmZ1bGwuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzbmV4dC5pbnRsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lc25leHQucHJvbWlzZS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXNuZXh0LnN0cmluZy5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXNuZXh0LndlYWtyZWYuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLnNjcmlwdGhvc3QuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLndlYndvcmtlci5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIud2Vid29ya2VyLmltcG9ydHNjcmlwdHMuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLndlYndvcmtlci5pdGVyYWJsZS5kLnRzXCJdID0gdHJ1ZTtcblxuLy8gc3JjL2xhbmd1YWdlL3R5cGVzY3JpcHQvbGFuZ3VhZ2VGZWF0dXJlcy50c1xuZnVuY3Rpb24gZmxhdHRlbkRpYWdub3N0aWNNZXNzYWdlVGV4dChkaWFnLCBuZXdMaW5lLCBpbmRlbnQgPSAwKSB7XG4gIGlmICh0eXBlb2YgZGlhZyA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBkaWFnO1xuICB9IGVsc2UgaWYgKGRpYWcgPT09IHZvaWQgMCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGxldCByZXN1bHQgPSBcIlwiO1xuICBpZiAoaW5kZW50KSB7XG4gICAgcmVzdWx0ICs9IG5ld0xpbmU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRlbnQ7IGkrKykge1xuICAgICAgcmVzdWx0ICs9IFwiICBcIjtcbiAgICB9XG4gIH1cbiAgcmVzdWx0ICs9IGRpYWcubWVzc2FnZVRleHQ7XG4gIGluZGVudCsrO1xuICBpZiAoZGlhZy5uZXh0KSB7XG4gICAgZm9yIChjb25zdCBraWQgb2YgZGlhZy5uZXh0KSB7XG4gICAgICByZXN1bHQgKz0gZmxhdHRlbkRpYWdub3N0aWNNZXNzYWdlVGV4dChraWQsIG5ld0xpbmUsIGluZGVudCk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBkaXNwbGF5UGFydHNUb1N0cmluZyhkaXNwbGF5UGFydHMpIHtcbiAgaWYgKGRpc3BsYXlQYXJ0cykge1xuICAgIHJldHVybiBkaXNwbGF5UGFydHMubWFwKChkaXNwbGF5UGFydCkgPT4gZGlzcGxheVBhcnQudGV4dCkuam9pbihcIlwiKTtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cbnZhciBBZGFwdGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihfd29ya2VyKSB7XG4gICAgdGhpcy5fd29ya2VyID0gX3dvcmtlcjtcbiAgfVxuICBfdGV4dFNwYW5Ub1JhbmdlKG1vZGVsLCBzcGFuKSB7XG4gICAgbGV0IHAxID0gbW9kZWwuZ2V0UG9zaXRpb25BdChzcGFuLnN0YXJ0KTtcbiAgICBsZXQgcDIgPSBtb2RlbC5nZXRQb3NpdGlvbkF0KHNwYW4uc3RhcnQgKyBzcGFuLmxlbmd0aCk7XG4gICAgbGV0IHsgbGluZU51bWJlcjogc3RhcnRMaW5lTnVtYmVyLCBjb2x1bW46IHN0YXJ0Q29sdW1uIH0gPSBwMTtcbiAgICBsZXQgeyBsaW5lTnVtYmVyOiBlbmRMaW5lTnVtYmVyLCBjb2x1bW46IGVuZENvbHVtbiB9ID0gcDI7XG4gICAgcmV0dXJuIHsgc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgZW5kTGluZU51bWJlciwgZW5kQ29sdW1uIH07XG4gIH1cbn07XG52YXIgTGliRmlsZXMgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKF93b3JrZXIpIHtcbiAgICB0aGlzLl93b3JrZXIgPSBfd29ya2VyO1xuICAgIHRoaXMuX2xpYkZpbGVzID0ge307XG4gICAgdGhpcy5faGFzRmV0Y2hlZExpYkZpbGVzID0gZmFsc2U7XG4gICAgdGhpcy5fZmV0Y2hMaWJGaWxlc1Byb21pc2UgPSBudWxsO1xuICB9XG4gIF9saWJGaWxlcztcbiAgX2hhc0ZldGNoZWRMaWJGaWxlcztcbiAgX2ZldGNoTGliRmlsZXNQcm9taXNlO1xuICBpc0xpYkZpbGUodXJpKSB7XG4gICAgaWYgKCF1cmkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHVyaS5wYXRoLmluZGV4T2YoXCIvbGliLlwiKSA9PT0gMCkge1xuICAgICAgcmV0dXJuICEhbGliRmlsZVNldFt1cmkucGF0aC5zbGljZSgxKV07XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBnZXRPckNyZWF0ZU1vZGVsKGZpbGVOYW1lKSB7XG4gICAgY29uc3QgdXJpID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuVXJpLnBhcnNlKGZpbGVOYW1lKTtcbiAgICBjb25zdCBtb2RlbCA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5nZXRNb2RlbCh1cmkpO1xuICAgIGlmIChtb2RlbCkge1xuICAgICAgcmV0dXJuIG1vZGVsO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0xpYkZpbGUodXJpKSAmJiB0aGlzLl9oYXNGZXRjaGVkTGliRmlsZXMpIHtcbiAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuY3JlYXRlTW9kZWwodGhpcy5fbGliRmlsZXNbdXJpLnBhdGguc2xpY2UoMSldLCBcInR5cGVzY3JpcHRcIiwgdXJpKTtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2hlZExpYkZpbGUgPSB0eXBlc2NyaXB0RGVmYXVsdHMuZ2V0RXh0cmFMaWJzKClbZmlsZU5hbWVdO1xuICAgIGlmIChtYXRjaGVkTGliRmlsZSkge1xuICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5jcmVhdGVNb2RlbChtYXRjaGVkTGliRmlsZS5jb250ZW50LCBcInR5cGVzY3JpcHRcIiwgdXJpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgX2NvbnRhaW5zTGliRmlsZSh1cmlzKSB7XG4gICAgZm9yIChsZXQgdXJpIG9mIHVyaXMpIHtcbiAgICAgIGlmICh0aGlzLmlzTGliRmlsZSh1cmkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYXN5bmMgZmV0Y2hMaWJGaWxlc0lmTmVjZXNzYXJ5KHVyaXMpIHtcbiAgICBpZiAoIXRoaXMuX2NvbnRhaW5zTGliRmlsZSh1cmlzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLl9mZXRjaExpYkZpbGVzKCk7XG4gIH1cbiAgX2ZldGNoTGliRmlsZXMoKSB7XG4gICAgaWYgKCF0aGlzLl9mZXRjaExpYkZpbGVzUHJvbWlzZSkge1xuICAgICAgdGhpcy5fZmV0Y2hMaWJGaWxlc1Byb21pc2UgPSB0aGlzLl93b3JrZXIoKS50aGVuKCh3KSA9PiB3LmdldExpYkZpbGVzKCkpLnRoZW4oKGxpYkZpbGVzKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhc0ZldGNoZWRMaWJGaWxlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuX2xpYkZpbGVzID0gbGliRmlsZXM7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2ZldGNoTGliRmlsZXNQcm9taXNlO1xuICB9XG59O1xudmFyIERpYWdub3N0aWNzQWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKF9saWJGaWxlcywgX2RlZmF1bHRzLCBfc2VsZWN0b3IsIHdvcmtlcikge1xuICAgIHN1cGVyKHdvcmtlcik7XG4gICAgdGhpcy5fbGliRmlsZXMgPSBfbGliRmlsZXM7XG4gICAgdGhpcy5fZGVmYXVsdHMgPSBfZGVmYXVsdHM7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBfc2VsZWN0b3I7XG4gICAgY29uc3Qgb25Nb2RlbEFkZCA9IChtb2RlbCkgPT4ge1xuICAgICAgaWYgKG1vZGVsLmdldExhbmd1YWdlSWQoKSAhPT0gX3NlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1heWJlVmFsaWRhdGUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgb25seVZpc2libGUgfSA9IHRoaXMuX2RlZmF1bHRzLmdldERpYWdub3N0aWNzT3B0aW9ucygpO1xuICAgICAgICBpZiAob25seVZpc2libGUpIHtcbiAgICAgICAgICBpZiAobW9kZWwuaXNBdHRhY2hlZFRvRWRpdG9yKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RvVmFsaWRhdGUobW9kZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9kb1ZhbGlkYXRlKG1vZGVsKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGxldCBoYW5kbGU7XG4gICAgICBjb25zdCBjaGFuZ2VTdWJzY3JpcHRpb24gPSBtb2RlbC5vbkRpZENoYW5nZUNvbnRlbnQoKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQoaGFuZGxlKTtcbiAgICAgICAgaGFuZGxlID0gd2luZG93LnNldFRpbWVvdXQobWF5YmVWYWxpZGF0ZSwgNTAwKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgdmlzaWJsZVN1YnNjcmlwdGlvbiA9IG1vZGVsLm9uRGlkQ2hhbmdlQXR0YWNoZWQoKCkgPT4ge1xuICAgICAgICBjb25zdCB7IG9ubHlWaXNpYmxlIH0gPSB0aGlzLl9kZWZhdWx0cy5nZXREaWFnbm9zdGljc09wdGlvbnMoKTtcbiAgICAgICAgaWYgKG9ubHlWaXNpYmxlKSB7XG4gICAgICAgICAgaWYgKG1vZGVsLmlzQXR0YWNoZWRUb0VkaXRvcigpKSB7XG4gICAgICAgICAgICBtYXliZVZhbGlkYXRlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5zZXRNb2RlbE1hcmtlcnMobW9kZWwsIHRoaXMuX3NlbGVjdG9yLCBbXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2xpc3RlbmVyW21vZGVsLnVyaS50b1N0cmluZygpXSA9IHtcbiAgICAgICAgZGlzcG9zZSgpIHtcbiAgICAgICAgICBjaGFuZ2VTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICAgIHZpc2libGVTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICAgIGNsZWFyVGltZW91dChoYW5kbGUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbWF5YmVWYWxpZGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3Qgb25Nb2RlbFJlbW92ZWQgPSAobW9kZWwpID0+IHtcbiAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5zZXRNb2RlbE1hcmtlcnMobW9kZWwsIHRoaXMuX3NlbGVjdG9yLCBbXSk7XG4gICAgICBjb25zdCBrZXkgPSBtb2RlbC51cmkudG9TdHJpbmcoKTtcbiAgICAgIGlmICh0aGlzLl9saXN0ZW5lcltrZXldKSB7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVyW2tleV0uZGlzcG9zZSgpO1xuICAgICAgICBkZWxldGUgdGhpcy5fbGlzdGVuZXJba2V5XTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2gobW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLm9uRGlkQ3JlYXRlTW9kZWwoKG1vZGVsKSA9PiBvbk1vZGVsQWRkKG1vZGVsKSkpO1xuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2gobW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLm9uV2lsbERpc3Bvc2VNb2RlbChvbk1vZGVsUmVtb3ZlZCkpO1xuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2gobW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLm9uRGlkQ2hhbmdlTW9kZWxMYW5ndWFnZSgoZXZlbnQpID0+IHtcbiAgICAgIG9uTW9kZWxSZW1vdmVkKGV2ZW50Lm1vZGVsKTtcbiAgICAgIG9uTW9kZWxBZGQoZXZlbnQubW9kZWwpO1xuICAgIH0pKTtcbiAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHtcbiAgICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGZvciAoY29uc3QgbW9kZWwgb2YgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLmdldE1vZGVscygpKSB7XG4gICAgICAgICAgb25Nb2RlbFJlbW92ZWQobW9kZWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgcmVjb21wdXRlRGlhZ29zdGljcyA9ICgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgbW9kZWwgb2YgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLmdldE1vZGVscygpKSB7XG4gICAgICAgIG9uTW9kZWxSZW1vdmVkKG1vZGVsKTtcbiAgICAgICAgb25Nb2RlbEFkZChtb2RlbCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHRoaXMuX2RlZmF1bHRzLm9uRGlkQ2hhbmdlKHJlY29tcHV0ZURpYWdvc3RpY3MpKTtcbiAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHRoaXMuX2RlZmF1bHRzLm9uRGlkRXh0cmFMaWJzQ2hhbmdlKHJlY29tcHV0ZURpYWdvc3RpY3MpKTtcbiAgICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuZ2V0TW9kZWxzKCkuZm9yRWFjaCgobW9kZWwpID0+IG9uTW9kZWxBZGQobW9kZWwpKTtcbiAgfVxuICBfZGlzcG9zYWJsZXMgPSBbXTtcbiAgX2xpc3RlbmVyID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5fZGlzcG9zYWJsZXMuZm9yRWFjaCgoZCkgPT4gZCAmJiBkLmRpc3Bvc2UoKSk7XG4gICAgdGhpcy5fZGlzcG9zYWJsZXMgPSBbXTtcbiAgfVxuICBhc3luYyBfZG9WYWxpZGF0ZShtb2RlbCkge1xuICAgIGNvbnN0IHdvcmtlciA9IGF3YWl0IHRoaXMuX3dvcmtlcihtb2RlbC51cmkpO1xuICAgIGlmIChtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICBjb25zdCB7IG5vU3ludGF4VmFsaWRhdGlvbiwgbm9TZW1hbnRpY1ZhbGlkYXRpb24sIG5vU3VnZ2VzdGlvbkRpYWdub3N0aWNzIH0gPSB0aGlzLl9kZWZhdWx0cy5nZXREaWFnbm9zdGljc09wdGlvbnMoKTtcbiAgICBpZiAoIW5vU3ludGF4VmFsaWRhdGlvbikge1xuICAgICAgcHJvbWlzZXMucHVzaCh3b3JrZXIuZ2V0U3ludGFjdGljRGlhZ25vc3RpY3MobW9kZWwudXJpLnRvU3RyaW5nKCkpKTtcbiAgICB9XG4gICAgaWYgKCFub1NlbWFudGljVmFsaWRhdGlvbikge1xuICAgICAgcHJvbWlzZXMucHVzaCh3b3JrZXIuZ2V0U2VtYW50aWNEaWFnbm9zdGljcyhtb2RlbC51cmkudG9TdHJpbmcoKSkpO1xuICAgIH1cbiAgICBpZiAoIW5vU3VnZ2VzdGlvbkRpYWdub3N0aWNzKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKHdvcmtlci5nZXRTdWdnZXN0aW9uRGlhZ25vc3RpY3MobW9kZWwudXJpLnRvU3RyaW5nKCkpKTtcbiAgICB9XG4gICAgY29uc3QgYWxsRGlhZ25vc3RpY3MgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgaWYgKCFhbGxEaWFnbm9zdGljcyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGlhZ25vc3RpY3MgPSBhbGxEaWFnbm9zdGljcy5yZWR1Y2UoKHAsIGMpID0+IGMuY29uY2F0KHApLCBbXSkuZmlsdGVyKChkKSA9PiAodGhpcy5fZGVmYXVsdHMuZ2V0RGlhZ25vc3RpY3NPcHRpb25zKCkuZGlhZ25vc3RpY0NvZGVzVG9JZ25vcmUgfHwgW10pLmluZGV4T2YoZC5jb2RlKSA9PT0gLTEpO1xuICAgIGNvbnN0IHJlbGF0ZWRVcmlzID0gZGlhZ25vc3RpY3MubWFwKChkKSA9PiBkLnJlbGF0ZWRJbmZvcm1hdGlvbiB8fCBbXSkucmVkdWNlKChwLCBjKSA9PiBjLmNvbmNhdChwKSwgW10pLm1hcCgocmVsYXRlZEluZm9ybWF0aW9uKSA9PiByZWxhdGVkSW5mb3JtYXRpb24uZmlsZSA/IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLlVyaS5wYXJzZShyZWxhdGVkSW5mb3JtYXRpb24uZmlsZS5maWxlTmFtZSkgOiBudWxsKTtcbiAgICBhd2FpdCB0aGlzLl9saWJGaWxlcy5mZXRjaExpYkZpbGVzSWZOZWNlc3NhcnkocmVsYXRlZFVyaXMpO1xuICAgIGlmIChtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLnNldE1vZGVsTWFya2Vycyhtb2RlbCwgdGhpcy5fc2VsZWN0b3IsIGRpYWdub3N0aWNzLm1hcCgoZCkgPT4gdGhpcy5fY29udmVydERpYWdub3N0aWNzKG1vZGVsLCBkKSkpO1xuICB9XG4gIF9jb252ZXJ0RGlhZ25vc3RpY3MobW9kZWwsIGRpYWcpIHtcbiAgICBjb25zdCBkaWFnU3RhcnQgPSBkaWFnLnN0YXJ0IHx8IDA7XG4gICAgY29uc3QgZGlhZ0xlbmd0aCA9IGRpYWcubGVuZ3RoIHx8IDE7XG4gICAgY29uc3QgeyBsaW5lTnVtYmVyOiBzdGFydExpbmVOdW1iZXIsIGNvbHVtbjogc3RhcnRDb2x1bW4gfSA9IG1vZGVsLmdldFBvc2l0aW9uQXQoZGlhZ1N0YXJ0KTtcbiAgICBjb25zdCB7IGxpbmVOdW1iZXI6IGVuZExpbmVOdW1iZXIsIGNvbHVtbjogZW5kQ29sdW1uIH0gPSBtb2RlbC5nZXRQb3NpdGlvbkF0KGRpYWdTdGFydCArIGRpYWdMZW5ndGgpO1xuICAgIGNvbnN0IHRhZ3MgPSBbXTtcbiAgICBpZiAoZGlhZy5yZXBvcnRzVW5uZWNlc3NhcnkpIHtcbiAgICAgIHRhZ3MucHVzaChtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5NYXJrZXJUYWcuVW5uZWNlc3NhcnkpO1xuICAgIH1cbiAgICBpZiAoZGlhZy5yZXBvcnRzRGVwcmVjYXRlZCkge1xuICAgICAgdGFncy5wdXNoKG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLk1hcmtlclRhZy5EZXByZWNhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHNldmVyaXR5OiB0aGlzLl90c0RpYWdub3N0aWNDYXRlZ29yeVRvTWFya2VyU2V2ZXJpdHkoZGlhZy5jYXRlZ29yeSksXG4gICAgICBzdGFydExpbmVOdW1iZXIsXG4gICAgICBzdGFydENvbHVtbixcbiAgICAgIGVuZExpbmVOdW1iZXIsXG4gICAgICBlbmRDb2x1bW4sXG4gICAgICBtZXNzYWdlOiBmbGF0dGVuRGlhZ25vc3RpY01lc3NhZ2VUZXh0KGRpYWcubWVzc2FnZVRleHQsIFwiXFxuXCIpLFxuICAgICAgY29kZTogZGlhZy5jb2RlLnRvU3RyaW5nKCksXG4gICAgICB0YWdzLFxuICAgICAgcmVsYXRlZEluZm9ybWF0aW9uOiB0aGlzLl9jb252ZXJ0UmVsYXRlZEluZm9ybWF0aW9uKG1vZGVsLCBkaWFnLnJlbGF0ZWRJbmZvcm1hdGlvbilcbiAgICB9O1xuICB9XG4gIF9jb252ZXJ0UmVsYXRlZEluZm9ybWF0aW9uKG1vZGVsLCByZWxhdGVkSW5mb3JtYXRpb24pIHtcbiAgICBpZiAoIXJlbGF0ZWRJbmZvcm1hdGlvbikge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICByZWxhdGVkSW5mb3JtYXRpb24uZm9yRWFjaCgoaW5mbykgPT4ge1xuICAgICAgbGV0IHJlbGF0ZWRSZXNvdXJjZSA9IG1vZGVsO1xuICAgICAgaWYgKGluZm8uZmlsZSkge1xuICAgICAgICByZWxhdGVkUmVzb3VyY2UgPSB0aGlzLl9saWJGaWxlcy5nZXRPckNyZWF0ZU1vZGVsKGluZm8uZmlsZS5maWxlTmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoIXJlbGF0ZWRSZXNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpbmZvU3RhcnQgPSBpbmZvLnN0YXJ0IHx8IDA7XG4gICAgICBjb25zdCBpbmZvTGVuZ3RoID0gaW5mby5sZW5ndGggfHwgMTtcbiAgICAgIGNvbnN0IHsgbGluZU51bWJlcjogc3RhcnRMaW5lTnVtYmVyLCBjb2x1bW46IHN0YXJ0Q29sdW1uIH0gPSByZWxhdGVkUmVzb3VyY2UuZ2V0UG9zaXRpb25BdChpbmZvU3RhcnQpO1xuICAgICAgY29uc3QgeyBsaW5lTnVtYmVyOiBlbmRMaW5lTnVtYmVyLCBjb2x1bW46IGVuZENvbHVtbiB9ID0gcmVsYXRlZFJlc291cmNlLmdldFBvc2l0aW9uQXQoaW5mb1N0YXJ0ICsgaW5mb0xlbmd0aCk7XG4gICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIHJlc291cmNlOiByZWxhdGVkUmVzb3VyY2UudXJpLFxuICAgICAgICBzdGFydExpbmVOdW1iZXIsXG4gICAgICAgIHN0YXJ0Q29sdW1uLFxuICAgICAgICBlbmRMaW5lTnVtYmVyLFxuICAgICAgICBlbmRDb2x1bW4sXG4gICAgICAgIG1lc3NhZ2U6IGZsYXR0ZW5EaWFnbm9zdGljTWVzc2FnZVRleHQoaW5mby5tZXNzYWdlVGV4dCwgXCJcXG5cIilcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgX3RzRGlhZ25vc3RpY0NhdGVnb3J5VG9NYXJrZXJTZXZlcml0eShjYXRlZ29yeSkge1xuICAgIHN3aXRjaCAoY2F0ZWdvcnkpIHtcbiAgICAgIGNhc2UgMSAvKiBFcnJvciAqLzpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLk1hcmtlclNldmVyaXR5LkVycm9yO1xuICAgICAgY2FzZSAzIC8qIE1lc3NhZ2UgKi86XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5NYXJrZXJTZXZlcml0eS5JbmZvO1xuICAgICAgY2FzZSAwIC8qIFdhcm5pbmcgKi86XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5NYXJrZXJTZXZlcml0eS5XYXJuaW5nO1xuICAgICAgY2FzZSAyIC8qIFN1Z2dlc3Rpb24gKi86XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5NYXJrZXJTZXZlcml0eS5IaW50O1xuICAgIH1cbiAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuTWFya2VyU2V2ZXJpdHkuSW5mbztcbiAgfVxufTtcbnZhciBTdWdnZXN0QWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgQWRhcHRlciB7XG4gIGdldCB0cmlnZ2VyQ2hhcmFjdGVycygpIHtcbiAgICByZXR1cm4gW1wiLlwiXTtcbiAgfVxuICBhc3luYyBwcm92aWRlQ29tcGxldGlvbkl0ZW1zKG1vZGVsLCBwb3NpdGlvbiwgX2NvbnRleHQsIHRva2VuKSB7XG4gICAgY29uc3Qgd29yZEluZm8gPSBtb2RlbC5nZXRXb3JkVW50aWxQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgY29uc3Qgd29yZFJhbmdlID0gbmV3IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLlJhbmdlKHBvc2l0aW9uLmxpbmVOdW1iZXIsIHdvcmRJbmZvLnN0YXJ0Q29sdW1uLCBwb3NpdGlvbi5saW5lTnVtYmVyLCB3b3JkSW5mby5lbmRDb2x1bW4pO1xuICAgIGNvbnN0IHJlc291cmNlID0gbW9kZWwudXJpO1xuICAgIGNvbnN0IG9mZnNldCA9IG1vZGVsLmdldE9mZnNldEF0KHBvc2l0aW9uKTtcbiAgICBjb25zdCB3b3JrZXIgPSBhd2FpdCB0aGlzLl93b3JrZXIocmVzb3VyY2UpO1xuICAgIGlmIChtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IHdvcmtlci5nZXRDb21wbGV0aW9uc0F0UG9zaXRpb24ocmVzb3VyY2UudG9TdHJpbmcoKSwgb2Zmc2V0KTtcbiAgICBpZiAoIWluZm8gfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gaW5mby5lbnRyaWVzLm1hcCgoZW50cnkpID0+IHtcbiAgICAgIGxldCByYW5nZSA9IHdvcmRSYW5nZTtcbiAgICAgIGlmIChlbnRyeS5yZXBsYWNlbWVudFNwYW4pIHtcbiAgICAgICAgY29uc3QgcDEgPSBtb2RlbC5nZXRQb3NpdGlvbkF0KGVudHJ5LnJlcGxhY2VtZW50U3Bhbi5zdGFydCk7XG4gICAgICAgIGNvbnN0IHAyID0gbW9kZWwuZ2V0UG9zaXRpb25BdChlbnRyeS5yZXBsYWNlbWVudFNwYW4uc3RhcnQgKyBlbnRyeS5yZXBsYWNlbWVudFNwYW4ubGVuZ3RoKTtcbiAgICAgICAgcmFuZ2UgPSBuZXcgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuUmFuZ2UocDEubGluZU51bWJlciwgcDEuY29sdW1uLCBwMi5saW5lTnVtYmVyLCBwMi5jb2x1bW4pO1xuICAgICAgfVxuICAgICAgY29uc3QgdGFncyA9IFtdO1xuICAgICAgaWYgKGVudHJ5LmtpbmRNb2RpZmllcnM/LmluZGV4T2YoXCJkZXByZWNhdGVkXCIpICE9PSAtMSkge1xuICAgICAgICB0YWdzLnB1c2gobW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtVGFnLkRlcHJlY2F0ZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXJpOiByZXNvdXJjZSxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgcmFuZ2UsXG4gICAgICAgIGxhYmVsOiBlbnRyeS5uYW1lLFxuICAgICAgICBpbnNlcnRUZXh0OiBlbnRyeS5uYW1lLFxuICAgICAgICBzb3J0VGV4dDogZW50cnkuc29ydFRleHQsXG4gICAgICAgIGtpbmQ6IFN1Z2dlc3RBZGFwdGVyLmNvbnZlcnRLaW5kKGVudHJ5LmtpbmQpLFxuICAgICAgICB0YWdzXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBzdWdnZXN0aW9uc1xuICAgIH07XG4gIH1cbiAgYXN5bmMgcmVzb2x2ZUNvbXBsZXRpb25JdGVtKGl0ZW0sIHRva2VuKSB7XG4gICAgY29uc3QgbXlJdGVtID0gaXRlbTtcbiAgICBjb25zdCByZXNvdXJjZSA9IG15SXRlbS51cmk7XG4gICAgY29uc3QgcG9zaXRpb24gPSBteUl0ZW0ucG9zaXRpb247XG4gICAgY29uc3Qgb2Zmc2V0ID0gbXlJdGVtLm9mZnNldDtcbiAgICBjb25zdCB3b3JrZXIgPSBhd2FpdCB0aGlzLl93b3JrZXIocmVzb3VyY2UpO1xuICAgIGNvbnN0IGRldGFpbHMgPSBhd2FpdCB3b3JrZXIuZ2V0Q29tcGxldGlvbkVudHJ5RGV0YWlscyhyZXNvdXJjZS50b1N0cmluZygpLCBvZmZzZXQsIG15SXRlbS5sYWJlbCk7XG4gICAgaWYgKCFkZXRhaWxzKSB7XG4gICAgICByZXR1cm4gbXlJdGVtO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdXJpOiByZXNvdXJjZSxcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgbGFiZWw6IGRldGFpbHMubmFtZSxcbiAgICAgIGtpbmQ6IFN1Z2dlc3RBZGFwdGVyLmNvbnZlcnRLaW5kKGRldGFpbHMua2luZCksXG4gICAgICBkZXRhaWw6IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGRldGFpbHMuZGlzcGxheVBhcnRzKSxcbiAgICAgIGRvY3VtZW50YXRpb246IHtcbiAgICAgICAgdmFsdWU6IFN1Z2dlc3RBZGFwdGVyLmNyZWF0ZURvY3VtZW50YXRpb25TdHJpbmcoZGV0YWlscylcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHN0YXRpYyBjb252ZXJ0S2luZChraW5kKSB7XG4gICAgc3dpdGNoIChraW5kKSB7XG4gICAgICBjYXNlIEtpbmQucHJpbWl0aXZlVHlwZTpcbiAgICAgIGNhc2UgS2luZC5rZXl3b3JkOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5LZXl3b3JkO1xuICAgICAgY2FzZSBLaW5kLnZhcmlhYmxlOlxuICAgICAgY2FzZSBLaW5kLmxvY2FsVmFyaWFibGU6XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLlZhcmlhYmxlO1xuICAgICAgY2FzZSBLaW5kLm1lbWJlclZhcmlhYmxlOlxuICAgICAgY2FzZSBLaW5kLm1lbWJlckdldEFjY2Vzc29yOlxuICAgICAgY2FzZSBLaW5kLm1lbWJlclNldEFjY2Vzc29yOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5GaWVsZDtcbiAgICAgIGNhc2UgS2luZC5mdW5jdGlvbjpcbiAgICAgIGNhc2UgS2luZC5tZW1iZXJGdW5jdGlvbjpcbiAgICAgIGNhc2UgS2luZC5jb25zdHJ1Y3RTaWduYXR1cmU6XG4gICAgICBjYXNlIEtpbmQuY2FsbFNpZ25hdHVyZTpcbiAgICAgIGNhc2UgS2luZC5pbmRleFNpZ25hdHVyZTpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuRnVuY3Rpb247XG4gICAgICBjYXNlIEtpbmQuZW51bTpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuRW51bTtcbiAgICAgIGNhc2UgS2luZC5tb2R1bGU6XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLk1vZHVsZTtcbiAgICAgIGNhc2UgS2luZC5jbGFzczpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuQ2xhc3M7XG4gICAgICBjYXNlIEtpbmQuaW50ZXJmYWNlOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5JbnRlcmZhY2U7XG4gICAgICBjYXNlIEtpbmQud2FybmluZzpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuRmlsZTtcbiAgICB9XG4gICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuUHJvcGVydHk7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZURvY3VtZW50YXRpb25TdHJpbmcoZGV0YWlscykge1xuICAgIGxldCBkb2N1bWVudGF0aW9uU3RyaW5nID0gZGlzcGxheVBhcnRzVG9TdHJpbmcoZGV0YWlscy5kb2N1bWVudGF0aW9uKTtcbiAgICBpZiAoZGV0YWlscy50YWdzKSB7XG4gICAgICBmb3IgKGNvbnN0IHRhZyBvZiBkZXRhaWxzLnRhZ3MpIHtcbiAgICAgICAgZG9jdW1lbnRhdGlvblN0cmluZyArPSBgXG5cbiR7dGFnVG9TdHJpbmcodGFnKX1gO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZG9jdW1lbnRhdGlvblN0cmluZztcbiAgfVxufTtcbmZ1bmN0aW9uIHRhZ1RvU3RyaW5nKHRhZykge1xuICBsZXQgdGFnTGFiZWwgPSBgKkAke3RhZy5uYW1lfSpgO1xuICBpZiAodGFnLm5hbWUgPT09IFwicGFyYW1cIiAmJiB0YWcudGV4dCkge1xuICAgIGNvbnN0IFtwYXJhbU5hbWUsIC4uLnJlc3RdID0gdGFnLnRleHQ7XG4gICAgdGFnTGFiZWwgKz0gYFxcYCR7cGFyYW1OYW1lLnRleHR9XFxgYDtcbiAgICBpZiAocmVzdC5sZW5ndGggPiAwKVxuICAgICAgdGFnTGFiZWwgKz0gYCBcXHUyMDE0ICR7cmVzdC5tYXAoKHIpID0+IHIudGV4dCkuam9pbihcIiBcIil9YDtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRhZy50ZXh0KSkge1xuICAgIHRhZ0xhYmVsICs9IGAgXFx1MjAxNCAke3RhZy50ZXh0Lm1hcCgocikgPT4gci50ZXh0KS5qb2luKFwiIFwiKX1gO1xuICB9IGVsc2UgaWYgKHRhZy50ZXh0KSB7XG4gICAgdGFnTGFiZWwgKz0gYCBcXHUyMDE0ICR7dGFnLnRleHR9YDtcbiAgfVxuICByZXR1cm4gdGFnTGFiZWw7XG59XG52YXIgU2lnbmF0dXJlSGVscEFkYXB0ZXIgPSBjbGFzcyBleHRlbmRzIEFkYXB0ZXIge1xuICBzaWduYXR1cmVIZWxwVHJpZ2dlckNoYXJhY3RlcnMgPSBbXCIoXCIsIFwiLFwiXTtcbiAgc3RhdGljIF90b1NpZ25hdHVyZUhlbHBUcmlnZ2VyUmVhc29uKGNvbnRleHQpIHtcbiAgICBzd2l0Y2ggKGNvbnRleHQudHJpZ2dlcktpbmQpIHtcbiAgICAgIGNhc2UgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZC5UcmlnZ2VyQ2hhcmFjdGVyOlxuICAgICAgICBpZiAoY29udGV4dC50cmlnZ2VyQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgaWYgKGNvbnRleHQuaXNSZXRyaWdnZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGtpbmQ6IFwicmV0cmlnZ2VyXCIsIHRyaWdnZXJDaGFyYWN0ZXI6IGNvbnRleHQudHJpZ2dlckNoYXJhY3RlciB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyBraW5kOiBcImNoYXJhY3RlclR5cGVkXCIsIHRyaWdnZXJDaGFyYWN0ZXI6IGNvbnRleHQudHJpZ2dlckNoYXJhY3RlciB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyBraW5kOiBcImludm9rZWRcIiB9O1xuICAgICAgICB9XG4gICAgICBjYXNlIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TaWduYXR1cmVIZWxwVHJpZ2dlcktpbmQuQ29udGVudENoYW5nZTpcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuaXNSZXRyaWdnZXIgPyB7IGtpbmQ6IFwicmV0cmlnZ2VyXCIgfSA6IHsga2luZDogXCJpbnZva2VkXCIgfTtcbiAgICAgIGNhc2UgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZC5JbnZva2U6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geyBraW5kOiBcImludm9rZWRcIiB9O1xuICAgIH1cbiAgfVxuICBhc3luYyBwcm92aWRlU2lnbmF0dXJlSGVscChtb2RlbCwgcG9zaXRpb24sIHRva2VuLCBjb250ZXh0KSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQocG9zaXRpb24pO1xuICAgIGNvbnN0IHdvcmtlciA9IGF3YWl0IHRoaXMuX3dvcmtlcihyZXNvdXJjZSk7XG4gICAgaWYgKG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbmZvID0gYXdhaXQgd29ya2VyLmdldFNpZ25hdHVyZUhlbHBJdGVtcyhyZXNvdXJjZS50b1N0cmluZygpLCBvZmZzZXQsIHtcbiAgICAgIHRyaWdnZXJSZWFzb246IFNpZ25hdHVyZUhlbHBBZGFwdGVyLl90b1NpZ25hdHVyZUhlbHBUcmlnZ2VyUmVhc29uKGNvbnRleHQpXG4gICAgfSk7XG4gICAgaWYgKCFpbmZvIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXQgPSB7XG4gICAgICBhY3RpdmVTaWduYXR1cmU6IGluZm8uc2VsZWN0ZWRJdGVtSW5kZXgsXG4gICAgICBhY3RpdmVQYXJhbWV0ZXI6IGluZm8uYXJndW1lbnRJbmRleCxcbiAgICAgIHNpZ25hdHVyZXM6IFtdXG4gICAgfTtcbiAgICBpbmZvLml0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IHtcbiAgICAgICAgbGFiZWw6IFwiXCIsXG4gICAgICAgIHBhcmFtZXRlcnM6IFtdXG4gICAgICB9O1xuICAgICAgc2lnbmF0dXJlLmRvY3VtZW50YXRpb24gPSB7XG4gICAgICAgIHZhbHVlOiBkaXNwbGF5UGFydHNUb1N0cmluZyhpdGVtLmRvY3VtZW50YXRpb24pXG4gICAgICB9O1xuICAgICAgc2lnbmF0dXJlLmxhYmVsICs9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGl0ZW0ucHJlZml4RGlzcGxheVBhcnRzKTtcbiAgICAgIGl0ZW0ucGFyYW1ldGVycy5mb3JFYWNoKChwLCBpLCBhKSA9PiB7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gZGlzcGxheVBhcnRzVG9TdHJpbmcocC5kaXNwbGF5UGFydHMpO1xuICAgICAgICBjb25zdCBwYXJhbWV0ZXIgPSB7XG4gICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgZG9jdW1lbnRhdGlvbjoge1xuICAgICAgICAgICAgdmFsdWU6IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKHAuZG9jdW1lbnRhdGlvbilcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNpZ25hdHVyZS5sYWJlbCArPSBsYWJlbDtcbiAgICAgICAgc2lnbmF0dXJlLnBhcmFtZXRlcnMucHVzaChwYXJhbWV0ZXIpO1xuICAgICAgICBpZiAoaSA8IGEubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHNpZ25hdHVyZS5sYWJlbCArPSBkaXNwbGF5UGFydHNUb1N0cmluZyhpdGVtLnNlcGFyYXRvckRpc3BsYXlQYXJ0cyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2lnbmF0dXJlLmxhYmVsICs9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGl0ZW0uc3VmZml4RGlzcGxheVBhcnRzKTtcbiAgICAgIHJldC5zaWduYXR1cmVzLnB1c2goc2lnbmF0dXJlKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHJldCxcbiAgICAgIGRpc3Bvc2UoKSB7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbnZhciBRdWlja0luZm9BZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBBZGFwdGVyIHtcbiAgYXN5bmMgcHJvdmlkZUhvdmVyKG1vZGVsLCBwb3NpdGlvbiwgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCB3b3JrZXIuZ2V0UXVpY2tJbmZvQXRQb3NpdGlvbihyZXNvdXJjZS50b1N0cmluZygpLCBvZmZzZXQpO1xuICAgIGlmICghaW5mbyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZG9jdW1lbnRhdGlvbiA9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGluZm8uZG9jdW1lbnRhdGlvbik7XG4gICAgY29uc3QgdGFncyA9IGluZm8udGFncyA/IGluZm8udGFncy5tYXAoKHRhZykgPT4gdGFnVG9TdHJpbmcodGFnKSkuam9pbihcIiAgXFxuXFxuXCIpIDogXCJcIjtcbiAgICBjb25zdCBjb250ZW50cyA9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGluZm8uZGlzcGxheVBhcnRzKTtcbiAgICByZXR1cm4ge1xuICAgICAgcmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgaW5mby50ZXh0U3BhbiksXG4gICAgICBjb250ZW50czogW1xuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IFwiYGBgdHlwZXNjcmlwdFxcblwiICsgY29udGVudHMgKyBcIlxcbmBgYFxcblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogZG9jdW1lbnRhdGlvbiArICh0YWdzID8gXCJcXG5cXG5cIiArIHRhZ3MgOiBcIlwiKVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgfVxufTtcbnZhciBPY2N1cnJlbmNlc0FkYXB0ZXIgPSBjbGFzcyBleHRlbmRzIEFkYXB0ZXIge1xuICBhc3luYyBwcm92aWRlRG9jdW1lbnRIaWdobGlnaHRzKG1vZGVsLCBwb3NpdGlvbiwgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVudHJpZXMgPSBhd2FpdCB3b3JrZXIuZ2V0T2NjdXJyZW5jZXNBdFBvc2l0aW9uKHJlc291cmNlLnRvU3RyaW5nKCksIG9mZnNldCk7XG4gICAgaWYgKCFlbnRyaWVzIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcy5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByYW5nZTogdGhpcy5fdGV4dFNwYW5Ub1JhbmdlKG1vZGVsLCBlbnRyeS50ZXh0U3BhbiksXG4gICAgICAgIGtpbmQ6IGVudHJ5LmlzV3JpdGVBY2Nlc3MgPyBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuRG9jdW1lbnRIaWdobGlnaHRLaW5kLldyaXRlIDogbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkRvY3VtZW50SGlnaGxpZ2h0S2luZC5UZXh0XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG59O1xudmFyIERlZmluaXRpb25BZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBBZGFwdGVyIHtcbiAgY29uc3RydWN0b3IoX2xpYkZpbGVzLCB3b3JrZXIpIHtcbiAgICBzdXBlcih3b3JrZXIpO1xuICAgIHRoaXMuX2xpYkZpbGVzID0gX2xpYkZpbGVzO1xuICB9XG4gIGFzeW5jIHByb3ZpZGVEZWZpbml0aW9uKG1vZGVsLCBwb3NpdGlvbiwgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVudHJpZXMgPSBhd2FpdCB3b3JrZXIuZ2V0RGVmaW5pdGlvbkF0UG9zaXRpb24ocmVzb3VyY2UudG9TdHJpbmcoKSwgb2Zmc2V0KTtcbiAgICBpZiAoIWVudHJpZXMgfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuX2xpYkZpbGVzLmZldGNoTGliRmlsZXNJZk5lY2Vzc2FyeShlbnRyaWVzLm1hcCgoZW50cnkpID0+IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLlVyaS5wYXJzZShlbnRyeS5maWxlTmFtZSkpKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IHJlZk1vZGVsID0gdGhpcy5fbGliRmlsZXMuZ2V0T3JDcmVhdGVNb2RlbChlbnRyeS5maWxlTmFtZSk7XG4gICAgICBpZiAocmVmTW9kZWwpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgIHVyaTogcmVmTW9kZWwudXJpLFxuICAgICAgICAgIHJhbmdlOiB0aGlzLl90ZXh0U3BhblRvUmFuZ2UocmVmTW9kZWwsIGVudHJ5LnRleHRTcGFuKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcbnZhciBSZWZlcmVuY2VBZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBBZGFwdGVyIHtcbiAgY29uc3RydWN0b3IoX2xpYkZpbGVzLCB3b3JrZXIpIHtcbiAgICBzdXBlcih3b3JrZXIpO1xuICAgIHRoaXMuX2xpYkZpbGVzID0gX2xpYkZpbGVzO1xuICB9XG4gIGFzeW5jIHByb3ZpZGVSZWZlcmVuY2VzKG1vZGVsLCBwb3NpdGlvbiwgY29udGV4dCwgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVudHJpZXMgPSBhd2FpdCB3b3JrZXIuZ2V0UmVmZXJlbmNlc0F0UG9zaXRpb24ocmVzb3VyY2UudG9TdHJpbmcoKSwgb2Zmc2V0KTtcbiAgICBpZiAoIWVudHJpZXMgfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuX2xpYkZpbGVzLmZldGNoTGliRmlsZXNJZk5lY2Vzc2FyeShlbnRyaWVzLm1hcCgoZW50cnkpID0+IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLlVyaS5wYXJzZShlbnRyeS5maWxlTmFtZSkpKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IHJlZk1vZGVsID0gdGhpcy5fbGliRmlsZXMuZ2V0T3JDcmVhdGVNb2RlbChlbnRyeS5maWxlTmFtZSk7XG4gICAgICBpZiAocmVmTW9kZWwpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgIHVyaTogcmVmTW9kZWwudXJpLFxuICAgICAgICAgIHJhbmdlOiB0aGlzLl90ZXh0U3BhblRvUmFuZ2UocmVmTW9kZWwsIGVudHJ5LnRleHRTcGFuKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcbnZhciBPdXRsaW5lQWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgQWRhcHRlciB7XG4gIGFzeW5jIHByb3ZpZGVEb2N1bWVudFN5bWJvbHMobW9kZWwsIHRva2VuKSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgd29ya2VyLmdldE5hdmlnYXRpb25CYXJJdGVtcyhyZXNvdXJjZS50b1N0cmluZygpKTtcbiAgICBpZiAoIWl0ZW1zIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb252ZXJ0ID0gKGJ1Y2tldCwgaXRlbSwgY29udGFpbmVyTGFiZWwpID0+IHtcbiAgICAgIGxldCByZXN1bHQyID0ge1xuICAgICAgICBuYW1lOiBpdGVtLnRleHQsXG4gICAgICAgIGRldGFpbDogXCJcIixcbiAgICAgICAga2luZDogb3V0bGluZVR5cGVUYWJsZVtpdGVtLmtpbmRdIHx8IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLlZhcmlhYmxlLFxuICAgICAgICByYW5nZTogdGhpcy5fdGV4dFNwYW5Ub1JhbmdlKG1vZGVsLCBpdGVtLnNwYW5zWzBdKSxcbiAgICAgICAgc2VsZWN0aW9uUmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgaXRlbS5zcGFuc1swXSksXG4gICAgICAgIHRhZ3M6IFtdXG4gICAgICB9O1xuICAgICAgaWYgKGNvbnRhaW5lckxhYmVsKVxuICAgICAgICByZXN1bHQyLmNvbnRhaW5lck5hbWUgPSBjb250YWluZXJMYWJlbDtcbiAgICAgIGlmIChpdGVtLmNoaWxkSXRlbXMgJiYgaXRlbS5jaGlsZEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgaXRlbS5jaGlsZEl0ZW1zKSB7XG4gICAgICAgICAgY29udmVydChidWNrZXQsIGNoaWxkLCByZXN1bHQyLm5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBidWNrZXQucHVzaChyZXN1bHQyKTtcbiAgICB9O1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiBjb252ZXJ0KHJlc3VsdCwgaXRlbSkpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn07XG52YXIgS2luZCA9IGNsYXNzIHtcbn07XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwidW5rbm93blwiLCBcIlwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJrZXl3b3JkXCIsIFwia2V5d29yZFwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJzY3JpcHRcIiwgXCJzY3JpcHRcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibW9kdWxlXCIsIFwibW9kdWxlXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcImNsYXNzXCIsIFwiY2xhc3NcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwiaW50ZXJmYWNlXCIsIFwiaW50ZXJmYWNlXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcInR5cGVcIiwgXCJ0eXBlXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcImVudW1cIiwgXCJlbnVtXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcInZhcmlhYmxlXCIsIFwidmFyXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcImxvY2FsVmFyaWFibGVcIiwgXCJsb2NhbCB2YXJcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwiZnVuY3Rpb25cIiwgXCJmdW5jdGlvblwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJsb2NhbEZ1bmN0aW9uXCIsIFwibG9jYWwgZnVuY3Rpb25cIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibWVtYmVyRnVuY3Rpb25cIiwgXCJtZXRob2RcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibWVtYmVyR2V0QWNjZXNzb3JcIiwgXCJnZXR0ZXJcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibWVtYmVyU2V0QWNjZXNzb3JcIiwgXCJzZXR0ZXJcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibWVtYmVyVmFyaWFibGVcIiwgXCJwcm9wZXJ0eVwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJjb25zdHJ1Y3RvckltcGxlbWVudGF0aW9uXCIsIFwiY29uc3RydWN0b3JcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwiY2FsbFNpZ25hdHVyZVwiLCBcImNhbGxcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwiaW5kZXhTaWduYXR1cmVcIiwgXCJpbmRleFwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJjb25zdHJ1Y3RTaWduYXR1cmVcIiwgXCJjb25zdHJ1Y3RcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwicGFyYW1ldGVyXCIsIFwicGFyYW1ldGVyXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcInR5cGVQYXJhbWV0ZXJcIiwgXCJ0eXBlIHBhcmFtZXRlclwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJwcmltaXRpdmVUeXBlXCIsIFwicHJpbWl0aXZlIHR5cGVcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibGFiZWxcIiwgXCJsYWJlbFwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJhbGlhc1wiLCBcImFsaWFzXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcImNvbnN0XCIsIFwiY29uc3RcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibGV0XCIsIFwibGV0XCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcIndhcm5pbmdcIiwgXCJ3YXJuaW5nXCIpO1xudmFyIG91dGxpbmVUeXBlVGFibGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5tb2R1bGVdID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuTW9kdWxlO1xub3V0bGluZVR5cGVUYWJsZVtLaW5kLmNsYXNzXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLkNsYXNzO1xub3V0bGluZVR5cGVUYWJsZVtLaW5kLmVudW1dID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuRW51bTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5pbnRlcmZhY2VdID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuSW50ZXJmYWNlO1xub3V0bGluZVR5cGVUYWJsZVtLaW5kLm1lbWJlckZ1bmN0aW9uXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLk1ldGhvZDtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5tZW1iZXJWYXJpYWJsZV0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5Qcm9wZXJ0eTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5tZW1iZXJHZXRBY2Nlc3Nvcl0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5Qcm9wZXJ0eTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5tZW1iZXJTZXRBY2Nlc3Nvcl0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5Qcm9wZXJ0eTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC52YXJpYWJsZV0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5WYXJpYWJsZTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5jb25zdF0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5WYXJpYWJsZTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5sb2NhbFZhcmlhYmxlXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLlZhcmlhYmxlO1xub3V0bGluZVR5cGVUYWJsZVtLaW5kLnZhcmlhYmxlXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLlZhcmlhYmxlO1xub3V0bGluZVR5cGVUYWJsZVtLaW5kLmZ1bmN0aW9uXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLkZ1bmN0aW9uO1xub3V0bGluZVR5cGVUYWJsZVtLaW5kLmxvY2FsRnVuY3Rpb25dID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuRnVuY3Rpb247XG52YXIgRm9ybWF0SGVscGVyID0gY2xhc3MgZXh0ZW5kcyBBZGFwdGVyIHtcbiAgc3RhdGljIF9jb252ZXJ0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIENvbnZlcnRUYWJzVG9TcGFjZXM6IG9wdGlvbnMuaW5zZXJ0U3BhY2VzLFxuICAgICAgVGFiU2l6ZTogb3B0aW9ucy50YWJTaXplLFxuICAgICAgSW5kZW50U2l6ZTogb3B0aW9ucy50YWJTaXplLFxuICAgICAgSW5kZW50U3R5bGU6IDIgLyogU21hcnQgKi8sXG4gICAgICBOZXdMaW5lQ2hhcmFjdGVyOiBcIlxcblwiLFxuICAgICAgSW5zZXJ0U3BhY2VBZnRlckNvbW1hRGVsaW1pdGVyOiB0cnVlLFxuICAgICAgSW5zZXJ0U3BhY2VBZnRlclNlbWljb2xvbkluRm9yU3RhdGVtZW50czogdHJ1ZSxcbiAgICAgIEluc2VydFNwYWNlQmVmb3JlQW5kQWZ0ZXJCaW5hcnlPcGVyYXRvcnM6IHRydWUsXG4gICAgICBJbnNlcnRTcGFjZUFmdGVyS2V5d29yZHNJbkNvbnRyb2xGbG93U3RhdGVtZW50czogdHJ1ZSxcbiAgICAgIEluc2VydFNwYWNlQWZ0ZXJGdW5jdGlvbktleXdvcmRGb3JBbm9ueW1vdXNGdW5jdGlvbnM6IHRydWUsXG4gICAgICBJbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdOb25lbXB0eVBhcmVudGhlc2lzOiBmYWxzZSxcbiAgICAgIEluc2VydFNwYWNlQWZ0ZXJPcGVuaW5nQW5kQmVmb3JlQ2xvc2luZ05vbmVtcHR5QnJhY2tldHM6IGZhbHNlLFxuICAgICAgSW5zZXJ0U3BhY2VBZnRlck9wZW5pbmdBbmRCZWZvcmVDbG9zaW5nVGVtcGxhdGVTdHJpbmdCcmFjZXM6IGZhbHNlLFxuICAgICAgUGxhY2VPcGVuQnJhY2VPbk5ld0xpbmVGb3JDb250cm9sQmxvY2tzOiBmYWxzZSxcbiAgICAgIFBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yRnVuY3Rpb25zOiBmYWxzZVxuICAgIH07XG4gIH1cbiAgX2NvbnZlcnRUZXh0Q2hhbmdlcyhtb2RlbCwgY2hhbmdlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRleHQ6IGNoYW5nZS5uZXdUZXh0LFxuICAgICAgcmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgY2hhbmdlLnNwYW4pXG4gICAgfTtcbiAgfVxufTtcbnZhciBGb3JtYXRBZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBGb3JtYXRIZWxwZXIge1xuICBhc3luYyBwcm92aWRlRG9jdW1lbnRSYW5nZUZvcm1hdHRpbmdFZGl0cyhtb2RlbCwgcmFuZ2UsIG9wdGlvbnMsIHRva2VuKSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgY29uc3Qgc3RhcnRPZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdCh7XG4gICAgICBsaW5lTnVtYmVyOiByYW5nZS5zdGFydExpbmVOdW1iZXIsXG4gICAgICBjb2x1bW46IHJhbmdlLnN0YXJ0Q29sdW1uXG4gICAgfSk7XG4gICAgY29uc3QgZW5kT2Zmc2V0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQoe1xuICAgICAgbGluZU51bWJlcjogcmFuZ2UuZW5kTGluZU51bWJlcixcbiAgICAgIGNvbHVtbjogcmFuZ2UuZW5kQ29sdW1uXG4gICAgfSk7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVkaXRzID0gYXdhaXQgd29ya2VyLmdldEZvcm1hdHRpbmdFZGl0c0ZvclJhbmdlKHJlc291cmNlLnRvU3RyaW5nKCksIHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQsIEZvcm1hdEhlbHBlci5fY29udmVydE9wdGlvbnMob3B0aW9ucykpO1xuICAgIGlmICghZWRpdHMgfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBlZGl0cy5tYXAoKGVkaXQpID0+IHRoaXMuX2NvbnZlcnRUZXh0Q2hhbmdlcyhtb2RlbCwgZWRpdCkpO1xuICB9XG59O1xudmFyIEZvcm1hdE9uVHlwZUFkYXB0ZXIgPSBjbGFzcyBleHRlbmRzIEZvcm1hdEhlbHBlciB7XG4gIGdldCBhdXRvRm9ybWF0VHJpZ2dlckNoYXJhY3RlcnMoKSB7XG4gICAgcmV0dXJuIFtcIjtcIiwgXCJ9XCIsIFwiXFxuXCJdO1xuICB9XG4gIGFzeW5jIHByb3ZpZGVPblR5cGVGb3JtYXR0aW5nRWRpdHMobW9kZWwsIHBvc2l0aW9uLCBjaCwgb3B0aW9ucywgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVkaXRzID0gYXdhaXQgd29ya2VyLmdldEZvcm1hdHRpbmdFZGl0c0FmdGVyS2V5c3Ryb2tlKHJlc291cmNlLnRvU3RyaW5nKCksIG9mZnNldCwgY2gsIEZvcm1hdEhlbHBlci5fY29udmVydE9wdGlvbnMob3B0aW9ucykpO1xuICAgIGlmICghZWRpdHMgfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBlZGl0cy5tYXAoKGVkaXQpID0+IHRoaXMuX2NvbnZlcnRUZXh0Q2hhbmdlcyhtb2RlbCwgZWRpdCkpO1xuICB9XG59O1xudmFyIENvZGVBY3Rpb25BZGFwdG9yID0gY2xhc3MgZXh0ZW5kcyBGb3JtYXRIZWxwZXIge1xuICBhc3luYyBwcm92aWRlQ29kZUFjdGlvbnMobW9kZWwsIHJhbmdlLCBjb250ZXh0LCB0b2tlbikge1xuICAgIGNvbnN0IHJlc291cmNlID0gbW9kZWwudXJpO1xuICAgIGNvbnN0IHN0YXJ0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQoe1xuICAgICAgbGluZU51bWJlcjogcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLFxuICAgICAgY29sdW1uOiByYW5nZS5zdGFydENvbHVtblxuICAgIH0pO1xuICAgIGNvbnN0IGVuZCA9IG1vZGVsLmdldE9mZnNldEF0KHtcbiAgICAgIGxpbmVOdW1iZXI6IHJhbmdlLmVuZExpbmVOdW1iZXIsXG4gICAgICBjb2x1bW46IHJhbmdlLmVuZENvbHVtblxuICAgIH0pO1xuICAgIGNvbnN0IGZvcm1hdE9wdGlvbnMgPSBGb3JtYXRIZWxwZXIuX2NvbnZlcnRPcHRpb25zKG1vZGVsLmdldE9wdGlvbnMoKSk7XG4gICAgY29uc3QgZXJyb3JDb2RlcyA9IGNvbnRleHQubWFya2Vycy5maWx0ZXIoKG0pID0+IG0uY29kZSkubWFwKChtKSA9PiBtLmNvZGUpLm1hcChOdW1iZXIpO1xuICAgIGNvbnN0IHdvcmtlciA9IGF3YWl0IHRoaXMuX3dvcmtlcihyZXNvdXJjZSk7XG4gICAgaWYgKG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb2RlRml4ZXMgPSBhd2FpdCB3b3JrZXIuZ2V0Q29kZUZpeGVzQXRQb3NpdGlvbihyZXNvdXJjZS50b1N0cmluZygpLCBzdGFydCwgZW5kLCBlcnJvckNvZGVzLCBmb3JtYXRPcHRpb25zKTtcbiAgICBpZiAoIWNvZGVGaXhlcyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybiB7IGFjdGlvbnM6IFtdLCBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICB9IH07XG4gICAgfVxuICAgIGNvbnN0IGFjdGlvbnMgPSBjb2RlRml4ZXMuZmlsdGVyKChmaXgpID0+IHtcbiAgICAgIHJldHVybiBmaXguY2hhbmdlcy5maWx0ZXIoKGNoYW5nZSkgPT4gY2hhbmdlLmlzTmV3RmlsZSkubGVuZ3RoID09PSAwO1xuICAgIH0pLm1hcCgoZml4KSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5fdHNDb2RlRml4QWN0aW9uVG9Nb25hY29Db2RlQWN0aW9uKG1vZGVsLCBjb250ZXh0LCBmaXgpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBhY3Rpb25zLFxuICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgX3RzQ29kZUZpeEFjdGlvblRvTW9uYWNvQ29kZUFjdGlvbihtb2RlbCwgY29udGV4dCwgY29kZUZpeCkge1xuICAgIGNvbnN0IGVkaXRzID0gW107XG4gICAgZm9yIChjb25zdCBjaGFuZ2Ugb2YgY29kZUZpeC5jaGFuZ2VzKSB7XG4gICAgICBmb3IgKGNvbnN0IHRleHRDaGFuZ2Ugb2YgY2hhbmdlLnRleHRDaGFuZ2VzKSB7XG4gICAgICAgIGVkaXRzLnB1c2goe1xuICAgICAgICAgIHJlc291cmNlOiBtb2RlbC51cmksXG4gICAgICAgICAgZWRpdDoge1xuICAgICAgICAgICAgcmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgdGV4dENoYW5nZS5zcGFuKSxcbiAgICAgICAgICAgIHRleHQ6IHRleHRDaGFuZ2UubmV3VGV4dFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFjdGlvbiA9IHtcbiAgICAgIHRpdGxlOiBjb2RlRml4LmRlc2NyaXB0aW9uLFxuICAgICAgZWRpdDogeyBlZGl0cyB9LFxuICAgICAgZGlhZ25vc3RpY3M6IGNvbnRleHQubWFya2VycyxcbiAgICAgIGtpbmQ6IFwicXVpY2tmaXhcIlxuICAgIH07XG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfVxufTtcbnZhciBSZW5hbWVBZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBBZGFwdGVyIHtcbiAgY29uc3RydWN0b3IoX2xpYkZpbGVzLCB3b3JrZXIpIHtcbiAgICBzdXBlcih3b3JrZXIpO1xuICAgIHRoaXMuX2xpYkZpbGVzID0gX2xpYkZpbGVzO1xuICB9XG4gIGFzeW5jIHByb3ZpZGVSZW5hbWVFZGl0cyhtb2RlbCwgcG9zaXRpb24sIG5ld05hbWUsIHRva2VuKSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgY29uc3QgZmlsZU5hbWUgPSByZXNvdXJjZS50b1N0cmluZygpO1xuICAgIGNvbnN0IG9mZnNldCA9IG1vZGVsLmdldE9mZnNldEF0KHBvc2l0aW9uKTtcbiAgICBjb25zdCB3b3JrZXIgPSBhd2FpdCB0aGlzLl93b3JrZXIocmVzb3VyY2UpO1xuICAgIGlmIChtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVuYW1lSW5mbyA9IGF3YWl0IHdvcmtlci5nZXRSZW5hbWVJbmZvKGZpbGVOYW1lLCBvZmZzZXQsIHtcbiAgICAgIGFsbG93UmVuYW1lT2ZJbXBvcnRQYXRoOiBmYWxzZVxuICAgIH0pO1xuICAgIGlmIChyZW5hbWVJbmZvLmNhblJlbmFtZSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVkaXRzOiBbXSxcbiAgICAgICAgcmVqZWN0UmVhc29uOiByZW5hbWVJbmZvLmxvY2FsaXplZEVycm9yTWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHJlbmFtZUluZm8uZmlsZVRvUmVuYW1lICE9PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlbmFtaW5nIGZpbGVzIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICAgIH1cbiAgICBjb25zdCByZW5hbWVMb2NhdGlvbnMgPSBhd2FpdCB3b3JrZXIuZmluZFJlbmFtZUxvY2F0aW9ucyhmaWxlTmFtZSwgb2Zmc2V0LCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICBpZiAoIXJlbmFtZUxvY2F0aW9ucyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZWRpdHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJlbmFtZUxvY2F0aW9uIG9mIHJlbmFtZUxvY2F0aW9ucykge1xuICAgICAgY29uc3QgbW9kZWwyID0gdGhpcy5fbGliRmlsZXMuZ2V0T3JDcmVhdGVNb2RlbChyZW5hbWVMb2NhdGlvbi5maWxlTmFtZSk7XG4gICAgICBpZiAobW9kZWwyKSB7XG4gICAgICAgIGVkaXRzLnB1c2goe1xuICAgICAgICAgIHJlc291cmNlOiBtb2RlbDIudXJpLFxuICAgICAgICAgIGVkaXQ6IHtcbiAgICAgICAgICAgIHJhbmdlOiB0aGlzLl90ZXh0U3BhblRvUmFuZ2UobW9kZWwyLCByZW5hbWVMb2NhdGlvbi50ZXh0U3BhbiksXG4gICAgICAgICAgICB0ZXh0OiBuZXdOYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBmaWxlICR7cmVuYW1lTG9jYXRpb24uZmlsZU5hbWV9LmApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBlZGl0cyB9O1xuICB9XG59O1xudmFyIElubGF5SGludHNBZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBBZGFwdGVyIHtcbiAgYXN5bmMgcHJvdmlkZUlubGF5SGludHMobW9kZWwsIHJhbmdlLCB0b2tlbikge1xuICAgIGNvbnN0IHJlc291cmNlID0gbW9kZWwudXJpO1xuICAgIGNvbnN0IGZpbGVOYW1lID0gcmVzb3VyY2UudG9TdHJpbmcoKTtcbiAgICBjb25zdCBzdGFydCA9IG1vZGVsLmdldE9mZnNldEF0KHtcbiAgICAgIGxpbmVOdW1iZXI6IHJhbmdlLnN0YXJ0TGluZU51bWJlcixcbiAgICAgIGNvbHVtbjogcmFuZ2Uuc3RhcnRDb2x1bW5cbiAgICB9KTtcbiAgICBjb25zdCBlbmQgPSBtb2RlbC5nZXRPZmZzZXRBdCh7XG4gICAgICBsaW5lTnVtYmVyOiByYW5nZS5lbmRMaW5lTnVtYmVyLFxuICAgICAgY29sdW1uOiByYW5nZS5lbmRDb2x1bW5cbiAgICB9KTtcbiAgICBjb25zdCB3b3JrZXIgPSBhd2FpdCB0aGlzLl93b3JrZXIocmVzb3VyY2UpO1xuICAgIGlmIChtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB0c0hpbnRzID0gYXdhaXQgd29ya2VyLnByb3ZpZGVJbmxheUhpbnRzKGZpbGVOYW1lLCBzdGFydCwgZW5kKTtcbiAgICBjb25zdCBoaW50cyA9IHRzSGludHMubWFwKChoaW50KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5oaW50LFxuICAgICAgICBsYWJlbDogaGludC50ZXh0LFxuICAgICAgICBwb3NpdGlvbjogbW9kZWwuZ2V0UG9zaXRpb25BdChoaW50LnBvc2l0aW9uKSxcbiAgICAgICAga2luZDogdGhpcy5fY29udmVydEhpbnRLaW5kKGhpbnQua2luZClcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgaGludHMsIGRpc3Bvc2U6ICgpID0+IHtcbiAgICB9IH07XG4gIH1cbiAgX2NvbnZlcnRIaW50S2luZChraW5kKSB7XG4gICAgc3dpdGNoIChraW5kKSB7XG4gICAgICBjYXNlIFwiUGFyYW1ldGVyXCI6XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuSW5sYXlIaW50S2luZC5QYXJhbWV0ZXI7XG4gICAgICBjYXNlIFwiVHlwZVwiOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLklubGF5SGludEtpbmQuVHlwZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuSW5sYXlIaW50S2luZC5UeXBlO1xuICAgIH1cbiAgfVxufTtcblxuLy8gc3JjL2xhbmd1YWdlL3R5cGVzY3JpcHQvdHNNb2RlLnRzXG52YXIgamF2YVNjcmlwdFdvcmtlcjtcbnZhciB0eXBlU2NyaXB0V29ya2VyO1xuZnVuY3Rpb24gc2V0dXBUeXBlU2NyaXB0KGRlZmF1bHRzKSB7XG4gIHR5cGVTY3JpcHRXb3JrZXIgPSBzZXR1cE1vZGUoZGVmYXVsdHMsIFwidHlwZXNjcmlwdFwiKTtcbn1cbmZ1bmN0aW9uIHNldHVwSmF2YVNjcmlwdChkZWZhdWx0cykge1xuICBqYXZhU2NyaXB0V29ya2VyID0gc2V0dXBNb2RlKGRlZmF1bHRzLCBcImphdmFzY3JpcHRcIik7XG59XG5mdW5jdGlvbiBnZXRKYXZhU2NyaXB0V29ya2VyKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmICghamF2YVNjcmlwdFdvcmtlcikge1xuICAgICAgcmV0dXJuIHJlamVjdChcIkphdmFTY3JpcHQgbm90IHJlZ2lzdGVyZWQhXCIpO1xuICAgIH1cbiAgICByZXNvbHZlKGphdmFTY3JpcHRXb3JrZXIpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFR5cGVTY3JpcHRXb3JrZXIoKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKCF0eXBlU2NyaXB0V29ya2VyKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KFwiVHlwZVNjcmlwdCBub3QgcmVnaXN0ZXJlZCFcIik7XG4gICAgfVxuICAgIHJlc29sdmUodHlwZVNjcmlwdFdvcmtlcik7XG4gIH0pO1xufVxuZnVuY3Rpb24gc2V0dXBNb2RlKGRlZmF1bHRzLCBtb2RlSWQpIHtcbiAgY29uc3QgY2xpZW50ID0gbmV3IFdvcmtlck1hbmFnZXIobW9kZUlkLCBkZWZhdWx0cyk7XG4gIGNvbnN0IHdvcmtlciA9ICguLi51cmlzKSA9PiB7XG4gICAgcmV0dXJuIGNsaWVudC5nZXRMYW5ndWFnZVNlcnZpY2VXb3JrZXIoLi4udXJpcyk7XG4gIH07XG4gIGNvbnN0IGxpYkZpbGVzID0gbmV3IExpYkZpbGVzKHdvcmtlcik7XG4gIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3RlckNvbXBsZXRpb25JdGVtUHJvdmlkZXIobW9kZUlkLCBuZXcgU3VnZ2VzdEFkYXB0ZXIod29ya2VyKSk7XG4gIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3RlclNpZ25hdHVyZUhlbHBQcm92aWRlcihtb2RlSWQsIG5ldyBTaWduYXR1cmVIZWxwQWRhcHRlcih3b3JrZXIpKTtcbiAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVySG92ZXJQcm92aWRlcihtb2RlSWQsIG5ldyBRdWlja0luZm9BZGFwdGVyKHdvcmtlcikpO1xuICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMucmVnaXN0ZXJEb2N1bWVudEhpZ2hsaWdodFByb3ZpZGVyKG1vZGVJZCwgbmV3IE9jY3VycmVuY2VzQWRhcHRlcih3b3JrZXIpKTtcbiAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyRGVmaW5pdGlvblByb3ZpZGVyKG1vZGVJZCwgbmV3IERlZmluaXRpb25BZGFwdGVyKGxpYkZpbGVzLCB3b3JrZXIpKTtcbiAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyUmVmZXJlbmNlUHJvdmlkZXIobW9kZUlkLCBuZXcgUmVmZXJlbmNlQWRhcHRlcihsaWJGaWxlcywgd29ya2VyKSk7XG4gIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3RlckRvY3VtZW50U3ltYm9sUHJvdmlkZXIobW9kZUlkLCBuZXcgT3V0bGluZUFkYXB0ZXIod29ya2VyKSk7XG4gIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3RlckRvY3VtZW50UmFuZ2VGb3JtYXR0aW5nRWRpdFByb3ZpZGVyKG1vZGVJZCwgbmV3IEZvcm1hdEFkYXB0ZXIod29ya2VyKSk7XG4gIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3Rlck9uVHlwZUZvcm1hdHRpbmdFZGl0UHJvdmlkZXIobW9kZUlkLCBuZXcgRm9ybWF0T25UeXBlQWRhcHRlcih3b3JrZXIpKTtcbiAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyQ29kZUFjdGlvblByb3ZpZGVyKG1vZGVJZCwgbmV3IENvZGVBY3Rpb25BZGFwdG9yKHdvcmtlcikpO1xuICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMucmVnaXN0ZXJSZW5hbWVQcm92aWRlcihtb2RlSWQsIG5ldyBSZW5hbWVBZGFwdGVyKGxpYkZpbGVzLCB3b3JrZXIpKTtcbiAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVySW5sYXlIaW50c1Byb3ZpZGVyKG1vZGVJZCwgbmV3IElubGF5SGludHNBZGFwdGVyKHdvcmtlcikpO1xuICBuZXcgRGlhZ25vc3RpY3NBZGFwdGVyKGxpYkZpbGVzLCBkZWZhdWx0cywgbW9kZUlkLCB3b3JrZXIpO1xuICByZXR1cm4gd29ya2VyO1xufVxuZXhwb3J0IHtcbiAgQWRhcHRlcixcbiAgQ29kZUFjdGlvbkFkYXB0b3IsXG4gIERlZmluaXRpb25BZGFwdGVyLFxuICBEaWFnbm9zdGljc0FkYXB0ZXIsXG4gIEZvcm1hdEFkYXB0ZXIsXG4gIEZvcm1hdEhlbHBlcixcbiAgRm9ybWF0T25UeXBlQWRhcHRlcixcbiAgSW5sYXlIaW50c0FkYXB0ZXIsXG4gIEtpbmQsXG4gIExpYkZpbGVzLFxuICBPY2N1cnJlbmNlc0FkYXB0ZXIsXG4gIE91dGxpbmVBZGFwdGVyLFxuICBRdWlja0luZm9BZGFwdGVyLFxuICBSZWZlcmVuY2VBZGFwdGVyLFxuICBSZW5hbWVBZGFwdGVyLFxuICBTaWduYXR1cmVIZWxwQWRhcHRlcixcbiAgU3VnZ2VzdEFkYXB0ZXIsXG4gIFdvcmtlck1hbmFnZXIsXG4gIGZsYXR0ZW5EaWFnbm9zdGljTWVzc2FnZVRleHQsXG4gIGdldEphdmFTY3JpcHRXb3JrZXIsXG4gIGdldFR5cGVTY3JpcHRXb3JrZXIsXG4gIHNldHVwSmF2YVNjcmlwdCxcbiAgc2V0dXBUeXBlU2NyaXB0XG59O1xuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19nZXRPd25Qcm9wRGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIl9fZ2V0T3duUHJvcE5hbWVzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIl9faGFzT3duUHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiX19wdWJsaWNGaWVsZCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19kZWZOb3JtYWxQcm9wIiwibW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMiLCJ0YXJnZXQiLCJtb2R1bGUiLCJjb3B5RGVmYXVsdCIsImRlc2MiLCJjYWxsIiwiZ2V0IiwiX19yZUV4cG9ydCIsIldvcmtlck1hbmFnZXIiLCJfbW9kZUlkIiwiX2RlZmF1bHRzIiwiX2NvbmZpZ0NoYW5nZUxpc3RlbmVyIiwiX3VwZGF0ZUV4dHJhTGlic1Rva2VuIiwiX2V4dHJhTGlic0NoYW5nZUxpc3RlbmVyIiwiX3dvcmtlciIsIl9jbGllbnQiLCJjb25zdHJ1Y3RvciIsIm1vZGVJZCIsImRlZmF1bHRzIiwidGhpcyIsIm9uRGlkQ2hhbmdlIiwiX3N0b3BXb3JrZXIiLCJvbkRpZEV4dHJhTGlic0NoYW5nZSIsIl91cGRhdGVFeHRyYUxpYnMiLCJkaXNwb3NlIiwiYXN5bmMiLCJteVRva2VuIiwicHJveHkiLCJnZXRQcm94eSIsInVwZGF0ZUV4dHJhTGlicyIsImdldEV4dHJhTGlicyIsIl9nZXRDbGllbnQiLCJlZGl0b3IiLCJjcmVhdGVXZWJXb3JrZXIiLCJtb2R1bGVJZCIsImxhYmVsIiwia2VlcElkbGVNb2RlbHMiLCJjcmVhdGVEYXRhIiwiY29tcGlsZXJPcHRpb25zIiwiZ2V0Q29tcGlsZXJPcHRpb25zIiwiZXh0cmFMaWJzIiwiY3VzdG9tV29ya2VyUGF0aCIsIndvcmtlck9wdGlvbnMiLCJpbmxheUhpbnRzT3B0aW9ucyIsInAiLCJnZXRFYWdlck1vZGVsU3luYyIsInRoZW4iLCJ3b3JrZXIiLCJ3aXRoU3luY2VkUmVzb3VyY2VzIiwiZ2V0TW9kZWxzIiwiZmlsdGVyIiwibW9kZWwiLCJnZXRMYW5ndWFnZUlkIiwibWFwIiwidXJpIiwiZ2V0TGFuZ3VhZ2VTZXJ2aWNlV29ya2VyIiwicmVzb3VyY2VzIiwiY2xpZW50IiwiXyIsImxpYkZpbGVTZXQiLCJmbGF0dGVuRGlhZ25vc3RpY01lc3NhZ2VUZXh0IiwiZGlhZyIsIm5ld0xpbmUiLCJpbmRlbnQiLCJyZXN1bHQiLCJpIiwibWVzc2FnZVRleHQiLCJuZXh0Iiwia2lkIiwiZGlzcGxheVBhcnRzVG9TdHJpbmciLCJkaXNwbGF5UGFydHMiLCJkaXNwbGF5UGFydCIsInRleHQiLCJqb2luIiwiQWRhcHRlciIsIl90ZXh0U3BhblRvUmFuZ2UiLCJzcGFuIiwicDEiLCJnZXRQb3NpdGlvbkF0Iiwic3RhcnQiLCJwMiIsImxlbmd0aCIsImxpbmVOdW1iZXIiLCJzdGFydExpbmVOdW1iZXIiLCJjb2x1bW4iLCJzdGFydENvbHVtbiIsImVuZExpbmVOdW1iZXIiLCJlbmRDb2x1bW4iLCJMaWJGaWxlcyIsIl9saWJGaWxlcyIsIl9oYXNGZXRjaGVkTGliRmlsZXMiLCJfZmV0Y2hMaWJGaWxlc1Byb21pc2UiLCJpc0xpYkZpbGUiLCJwYXRoIiwiaW5kZXhPZiIsInNsaWNlIiwiZ2V0T3JDcmVhdGVNb2RlbCIsImZpbGVOYW1lIiwiVXJpIiwicGFyc2UiLCJnZXRNb2RlbCIsImNyZWF0ZU1vZGVsIiwibWF0Y2hlZExpYkZpbGUiLCJ0eXBlc2NyaXB0RGVmYXVsdHMiLCJjb250ZW50IiwiX2NvbnRhaW5zTGliRmlsZSIsInVyaXMiLCJfZmV0Y2hMaWJGaWxlcyIsInciLCJnZXRMaWJGaWxlcyIsImxpYkZpbGVzIiwiRGlhZ25vc3RpY3NBZGFwdGVyIiwiX3NlbGVjdG9yIiwic3VwZXIiLCJvbk1vZGVsQWRkIiwibWF5YmVWYWxpZGF0ZSIsIm9ubHlWaXNpYmxlIiwiZ2V0RGlhZ25vc3RpY3NPcHRpb25zIiwiaXNBdHRhY2hlZFRvRWRpdG9yIiwiX2RvVmFsaWRhdGUiLCJoYW5kbGUiLCJjaGFuZ2VTdWJzY3JpcHRpb24iLCJvbkRpZENoYW5nZUNvbnRlbnQiLCJjbGVhclRpbWVvdXQiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwidmlzaWJsZVN1YnNjcmlwdGlvbiIsIm9uRGlkQ2hhbmdlQXR0YWNoZWQiLCJzZXRNb2RlbE1hcmtlcnMiLCJfbGlzdGVuZXIiLCJ0b1N0cmluZyIsIm9uTW9kZWxSZW1vdmVkIiwiX2Rpc3Bvc2FibGVzIiwicHVzaCIsIm9uRGlkQ3JlYXRlTW9kZWwiLCJvbldpbGxEaXNwb3NlTW9kZWwiLCJvbkRpZENoYW5nZU1vZGVsTGFuZ3VhZ2UiLCJldmVudCIsInJlY29tcHV0ZURpYWdvc3RpY3MiLCJmb3JFYWNoIiwiY3JlYXRlIiwiZCIsImlzRGlzcG9zZWQiLCJwcm9taXNlcyIsIm5vU3ludGF4VmFsaWRhdGlvbiIsIm5vU2VtYW50aWNWYWxpZGF0aW9uIiwibm9TdWdnZXN0aW9uRGlhZ25vc3RpY3MiLCJnZXRTeW50YWN0aWNEaWFnbm9zdGljcyIsImdldFNlbWFudGljRGlhZ25vc3RpY3MiLCJnZXRTdWdnZXN0aW9uRGlhZ25vc3RpY3MiLCJhbGxEaWFnbm9zdGljcyIsIlByb21pc2UiLCJhbGwiLCJkaWFnbm9zdGljcyIsInJlZHVjZSIsImMiLCJjb25jYXQiLCJkaWFnbm9zdGljQ29kZXNUb0lnbm9yZSIsImNvZGUiLCJyZWxhdGVkVXJpcyIsInJlbGF0ZWRJbmZvcm1hdGlvbiIsImZpbGUiLCJmZXRjaExpYkZpbGVzSWZOZWNlc3NhcnkiLCJfY29udmVydERpYWdub3N0aWNzIiwiZGlhZ1N0YXJ0IiwiZGlhZ0xlbmd0aCIsInRhZ3MiLCJyZXBvcnRzVW5uZWNlc3NhcnkiLCJNYXJrZXJUYWciLCJVbm5lY2Vzc2FyeSIsInJlcG9ydHNEZXByZWNhdGVkIiwiRGVwcmVjYXRlZCIsInNldmVyaXR5IiwiX3RzRGlhZ25vc3RpY0NhdGVnb3J5VG9NYXJrZXJTZXZlcml0eSIsImNhdGVnb3J5IiwibWVzc2FnZSIsIl9jb252ZXJ0UmVsYXRlZEluZm9ybWF0aW9uIiwiaW5mbyIsInJlbGF0ZWRSZXNvdXJjZSIsImluZm9TdGFydCIsImluZm9MZW5ndGgiLCJyZXNvdXJjZSIsIk1hcmtlclNldmVyaXR5IiwiRXJyb3IiLCJJbmZvIiwiV2FybmluZyIsIkhpbnQiLCJTdWdnZXN0QWRhcHRlciIsInRyaWdnZXJDaGFyYWN0ZXJzIiwicG9zaXRpb24iLCJfY29udGV4dCIsInRva2VuIiwid29yZEluZm8iLCJnZXRXb3JkVW50aWxQb3NpdGlvbiIsIndvcmRSYW5nZSIsIlJhbmdlIiwib2Zmc2V0IiwiZ2V0T2Zmc2V0QXQiLCJnZXRDb21wbGV0aW9uc0F0UG9zaXRpb24iLCJzdWdnZXN0aW9ucyIsImVudHJpZXMiLCJlbnRyeSIsInJhbmdlIiwicmVwbGFjZW1lbnRTcGFuIiwia2luZE1vZGlmaWVycyIsImxhbmd1YWdlcyIsIkNvbXBsZXRpb25JdGVtVGFnIiwibmFtZSIsImluc2VydFRleHQiLCJzb3J0VGV4dCIsImtpbmQiLCJjb252ZXJ0S2luZCIsIml0ZW0iLCJteUl0ZW0iLCJkZXRhaWxzIiwiZ2V0Q29tcGxldGlvbkVudHJ5RGV0YWlscyIsImRldGFpbCIsImRvY3VtZW50YXRpb24iLCJjcmVhdGVEb2N1bWVudGF0aW9uU3RyaW5nIiwic3RhdGljIiwiS2luZCIsInByaW1pdGl2ZVR5cGUiLCJrZXl3b3JkIiwiQ29tcGxldGlvbkl0ZW1LaW5kIiwiS2V5d29yZCIsInZhcmlhYmxlIiwibG9jYWxWYXJpYWJsZSIsIlZhcmlhYmxlIiwibWVtYmVyVmFyaWFibGUiLCJtZW1iZXJHZXRBY2Nlc3NvciIsIm1lbWJlclNldEFjY2Vzc29yIiwiRmllbGQiLCJmdW5jdGlvbiIsIm1lbWJlckZ1bmN0aW9uIiwiY29uc3RydWN0U2lnbmF0dXJlIiwiY2FsbFNpZ25hdHVyZSIsImluZGV4U2lnbmF0dXJlIiwiRnVuY3Rpb24iLCJlbnVtIiwiRW51bSIsIk1vZHVsZSIsImNsYXNzIiwiQ2xhc3MiLCJpbnRlcmZhY2UiLCJJbnRlcmZhY2UiLCJ3YXJuaW5nIiwiRmlsZSIsIlByb3BlcnR5IiwiZG9jdW1lbnRhdGlvblN0cmluZyIsInRhZyIsInRhZ1RvU3RyaW5nIiwidGFnTGFiZWwiLCJwYXJhbU5hbWUiLCJyZXN0IiwiciIsIkFycmF5IiwiaXNBcnJheSIsIlNpZ25hdHVyZUhlbHBBZGFwdGVyIiwic2lnbmF0dXJlSGVscFRyaWdnZXJDaGFyYWN0ZXJzIiwiY29udGV4dCIsInRyaWdnZXJLaW5kIiwiU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kIiwiVHJpZ2dlckNoYXJhY3RlciIsInRyaWdnZXJDaGFyYWN0ZXIiLCJpc1JldHJpZ2dlciIsIkNvbnRlbnRDaGFuZ2UiLCJJbnZva2UiLCJnZXRTaWduYXR1cmVIZWxwSXRlbXMiLCJ0cmlnZ2VyUmVhc29uIiwiX3RvU2lnbmF0dXJlSGVscFRyaWdnZXJSZWFzb24iLCJyZXQiLCJhY3RpdmVTaWduYXR1cmUiLCJzZWxlY3RlZEl0ZW1JbmRleCIsImFjdGl2ZVBhcmFtZXRlciIsImFyZ3VtZW50SW5kZXgiLCJzaWduYXR1cmVzIiwiaXRlbXMiLCJzaWduYXR1cmUiLCJwYXJhbWV0ZXJzIiwicHJlZml4RGlzcGxheVBhcnRzIiwiYSIsInBhcmFtZXRlciIsInNlcGFyYXRvckRpc3BsYXlQYXJ0cyIsInN1ZmZpeERpc3BsYXlQYXJ0cyIsIlF1aWNrSW5mb0FkYXB0ZXIiLCJnZXRRdWlja0luZm9BdFBvc2l0aW9uIiwiY29udGVudHMiLCJ0ZXh0U3BhbiIsIk9jY3VycmVuY2VzQWRhcHRlciIsImdldE9jY3VycmVuY2VzQXRQb3NpdGlvbiIsImlzV3JpdGVBY2Nlc3MiLCJEb2N1bWVudEhpZ2hsaWdodEtpbmQiLCJXcml0ZSIsIlRleHQiLCJEZWZpbml0aW9uQWRhcHRlciIsImdldERlZmluaXRpb25BdFBvc2l0aW9uIiwicmVmTW9kZWwiLCJSZWZlcmVuY2VBZGFwdGVyIiwiZ2V0UmVmZXJlbmNlc0F0UG9zaXRpb24iLCJPdXRsaW5lQWRhcHRlciIsImdldE5hdmlnYXRpb25CYXJJdGVtcyIsImNvbnZlcnQiLCJidWNrZXQiLCJjb250YWluZXJMYWJlbCIsInJlc3VsdDIiLCJvdXRsaW5lVHlwZVRhYmxlIiwiU3ltYm9sS2luZCIsInNwYW5zIiwic2VsZWN0aW9uUmFuZ2UiLCJjb250YWluZXJOYW1lIiwiY2hpbGRJdGVtcyIsImNoaWxkIiwiTWV0aG9kIiwiY29uc3QiLCJsb2NhbEZ1bmN0aW9uIiwiamF2YVNjcmlwdFdvcmtlciIsInR5cGVTY3JpcHRXb3JrZXIiLCJGb3JtYXRIZWxwZXIiLCJvcHRpb25zIiwiQ29udmVydFRhYnNUb1NwYWNlcyIsImluc2VydFNwYWNlcyIsIlRhYlNpemUiLCJ0YWJTaXplIiwiSW5kZW50U2l6ZSIsIkluZGVudFN0eWxlIiwiTmV3TGluZUNoYXJhY3RlciIsIkluc2VydFNwYWNlQWZ0ZXJDb21tYURlbGltaXRlciIsIkluc2VydFNwYWNlQWZ0ZXJTZW1pY29sb25JbkZvclN0YXRlbWVudHMiLCJJbnNlcnRTcGFjZUJlZm9yZUFuZEFmdGVyQmluYXJ5T3BlcmF0b3JzIiwiSW5zZXJ0U3BhY2VBZnRlcktleXdvcmRzSW5Db250cm9sRmxvd1N0YXRlbWVudHMiLCJJbnNlcnRTcGFjZUFmdGVyRnVuY3Rpb25LZXl3b3JkRm9yQW5vbnltb3VzRnVuY3Rpb25zIiwiSW5zZXJ0U3BhY2VBZnRlck9wZW5pbmdBbmRCZWZvcmVDbG9zaW5nTm9uZW1wdHlQYXJlbnRoZXNpcyIsIkluc2VydFNwYWNlQWZ0ZXJPcGVuaW5nQW5kQmVmb3JlQ2xvc2luZ05vbmVtcHR5QnJhY2tldHMiLCJJbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdUZW1wbGF0ZVN0cmluZ0JyYWNlcyIsIlBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yQ29udHJvbEJsb2NrcyIsIlBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yRnVuY3Rpb25zIiwiX2NvbnZlcnRUZXh0Q2hhbmdlcyIsImNoYW5nZSIsIm5ld1RleHQiLCJGb3JtYXRBZGFwdGVyIiwic3RhcnRPZmZzZXQiLCJlbmRPZmZzZXQiLCJlZGl0cyIsImdldEZvcm1hdHRpbmdFZGl0c0ZvclJhbmdlIiwiX2NvbnZlcnRPcHRpb25zIiwiZWRpdCIsIkZvcm1hdE9uVHlwZUFkYXB0ZXIiLCJhdXRvRm9ybWF0VHJpZ2dlckNoYXJhY3RlcnMiLCJjaCIsImdldEZvcm1hdHRpbmdFZGl0c0FmdGVyS2V5c3Ryb2tlIiwiQ29kZUFjdGlvbkFkYXB0b3IiLCJlbmQiLCJmb3JtYXRPcHRpb25zIiwiZ2V0T3B0aW9ucyIsImVycm9yQ29kZXMiLCJtYXJrZXJzIiwibSIsIk51bWJlciIsImNvZGVGaXhlcyIsImdldENvZGVGaXhlc0F0UG9zaXRpb24iLCJhY3Rpb25zIiwiZml4IiwiY2hhbmdlcyIsImlzTmV3RmlsZSIsIl90c0NvZGVGaXhBY3Rpb25Ub01vbmFjb0NvZGVBY3Rpb24iLCJjb2RlRml4IiwidGV4dENoYW5nZSIsInRleHRDaGFuZ2VzIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJlbmFtZUFkYXB0ZXIiLCJuZXdOYW1lIiwicmVuYW1lSW5mbyIsImdldFJlbmFtZUluZm8iLCJhbGxvd1JlbmFtZU9mSW1wb3J0UGF0aCIsImNhblJlbmFtZSIsInJlamVjdFJlYXNvbiIsImxvY2FsaXplZEVycm9yTWVzc2FnZSIsImZpbGVUb1JlbmFtZSIsInJlbmFtZUxvY2F0aW9ucyIsImZpbmRSZW5hbWVMb2NhdGlvbnMiLCJyZW5hbWVMb2NhdGlvbiIsIm1vZGVsMiIsIklubGF5SGludHNBZGFwdGVyIiwiaGludHMiLCJwcm92aWRlSW5sYXlIaW50cyIsImhpbnQiLCJfY29udmVydEhpbnRLaW5kIiwiSW5sYXlIaW50S2luZCIsIlBhcmFtZXRlciIsIlR5cGUiLCJzZXR1cFR5cGVTY3JpcHQiLCJzZXR1cE1vZGUiLCJzZXR1cEphdmFTY3JpcHQiLCJnZXRKYXZhU2NyaXB0V29ya2VyIiwicmVzb2x2ZSIsInJlamVjdCIsImdldFR5cGVTY3JpcHRXb3JrZXIiLCJyZWdpc3RlckNvbXBsZXRpb25JdGVtUHJvdmlkZXIiLCJyZWdpc3RlclNpZ25hdHVyZUhlbHBQcm92aWRlciIsInJlZ2lzdGVySG92ZXJQcm92aWRlciIsInJlZ2lzdGVyRG9jdW1lbnRIaWdobGlnaHRQcm92aWRlciIsInJlZ2lzdGVyRGVmaW5pdGlvblByb3ZpZGVyIiwicmVnaXN0ZXJSZWZlcmVuY2VQcm92aWRlciIsInJlZ2lzdGVyRG9jdW1lbnRTeW1ib2xQcm92aWRlciIsInJlZ2lzdGVyRG9jdW1lbnRSYW5nZUZvcm1hdHRpbmdFZGl0UHJvdmlkZXIiLCJyZWdpc3Rlck9uVHlwZUZvcm1hdHRpbmdFZGl0UHJvdmlkZXIiLCJyZWdpc3RlckNvZGVBY3Rpb25Qcm92aWRlciIsInJlZ2lzdGVyUmVuYW1lUHJvdmlkZXIiLCJyZWdpc3RlcklubGF5SGludHNQcm92aWRlciJdLCJzb3VyY2VSb290IjoiIn0=